{"version":3,"sources":["redux/reducers/vines.js","pages/search/home.js","pages/search/about.js","pages/search/contact.js","App.js","pages/admin/components/SearchTool.js","pages/admin/components/Divider.js","pages/admin/components/vines/vine-card.js","pages/admin/components/Results.js","pages/admin/components/vines/tabular-section.js","pages/admin/components/vines/vine-tabs.js","pages/admin/components/vines/select-dropdown.js","pages/admin/components/vines/vine-form.js","pages/admin/components/vines/vine-dialog.js","pages/admin/Home.js","pages/admin/VineDetails.js","pages/admin/index.js","serviceWorker.js","redux/store.js","redux/reducers/index.js","pages/search/results.js","index.js"],"names":["initialState","vines","glossary","reducers_vines","state","arguments","length","undefined","action","_state","JSON","parse","stringify","type","loadVines","dispatch","$","ajax","url","dataType","success","res","data","searchVines","keyword","flags","Object","objectSpread","search","loadGlossary","CheckboxGroup","es_checkbox","Group","filters","label","value","sort","concat","Home","showTools","toggleTools","_this","setState","_this2","this","_this$props","props","history","react_default","a","createElement","react","className","input","Search","autoFocus","size","placeholder","onSearch","_this2$state","push","Grow_default","in","style","padding","display","gridTemplateColumns","defaultValue","onChange","options","justifyContent","es_button","marginRight","shape","onClick","Component","connect","bindActionCreators","About","Contact","App","NavLink","exact","to","activeClassName","Switch","Route","path","component","SearchTool","flexDirection","divider","orientation","SearchTool_CheckboxGroup","Divider","defaultProps","Meta","VineCard","deleteVine","id","status","timeout","location","d","species_data","isAdmin","pathname","indexOf","desc","vine_content","forEach","content","info","Fade_default","card","cover","alt","src","vine_image","thumbUrl","actions","Link","icon","theme","popconfirm","title","placement","onConfirm","okText","cancelText","hoverable","vine_name","description","lib_default","text","maxLine","ellipsis","trimRight","basedOn","withRouter","Results","map","vine","i","vine_card","key","beforeUpload","file","isJPG","message","error","isLt2M","TabularSection","normFile","e","Array","isArray","fileList","handleImageChange","index","handleChange","name","addRow","removeRow","splice","columns","render","t","r","dataIndex","_ref","target","_ref2","upload","showUploadList","Boolean","width","height","borderRadius","position","right","top","zIndex","table","pagination","rowKey","dataSource","Option","toString","es_select","VineTabs","tabs","addTab","images","maps","document","getElementById","scrollIntoView","removeTab","cardActions","tab","toConsumableArray","marginBottom","compact","TextArea","rows","tabular_section","SelectDropdown","loadOptions","source","handleSearch","which","showSearch","showArrow","onInputKeyDown","optionFilterProp","filterOption","option","children","toLowerCase","VineForm","passFormRef","form","getFieldDecorator","htmlFor","es_form","Item","rules","required","gridColumnGap","select_dropdown","valuePropName","getValueFromEvent","listType","showPreviewIcon","fontSize","mode","open","tokenSeparators","removeIcon","CancelRounded_default","vine_tabs","vine_form","create","VineDialog","visible","handleClose","goBack","formRef","handleSubmit","validateFieldsAndScroll","err","values","species","genus_id","vine_genus","family_id","vine_family","author_id","author","isNewVine","payload","match","params","nextProps","setFieldsValue","modal","destroyOnClose","onCancel","onOk","okButtonProps","cancelButtonProps","vineDialogOpen","vine_dialog","block","components_SearchTool","components_Divider","components_Results","TabPane","es_tabs","VineDetails","tokenize","split","str","lower","_","find","term","popover","definition","_this3","flex","backgroundColor","overflowY","backgroundImage","fontFamily","fontStyle","family","genus","vine_refs","join","vine_syn","vine_local","gridGap","minHeight","bordered","Header","Sider","Content","Admin","collapsed","toggle","layout","trigger","collapsible","background","boxShadow","menu","defaultSelectedKeys","margin","Redirect","window","hostname","createHistory","middleware","thunk","routerMiddleware","composedEnhancers","compose","apply","applyMiddleware","store","createStore","combineReducers","router","connectRouter","ReactDOM","es","esm","HashRouter","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"sZAKMA,EAAe,CACnBC,MAAO,GACPC,SAAU,IAGZC,EAAA,WAAiD,IAAjCC,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBL,EAAcQ,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC3CE,EAASC,KAAKC,MAAMD,KAAKE,UAAUR,IAEvC,OAAOI,EAAOK,MACZ,IAZsB,aActB,OADEJ,EAAOR,MAAQO,EAAOP,MACjBQ,EACP,IAdyB,gBAgBzB,OADEA,EAAOP,SAAWM,EAAON,SACpBO,EACP,QAAS,OAAOA,IAIPK,EAAY,WACvB,OAAO,SAAAC,GACLC,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAK,qCACLC,SAAU,OACVC,QAAS,SAACC,GACR,IAAMpB,EAAQS,KAAKC,MAAMU,EAAIC,MAC7BP,EAAS,CACPF,KA/BgB,aAgChBZ,eAOGsB,EAAc,SAACC,EAASC,GACnC,OAAO,SAAAV,GACLC,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAK,sCACLI,KAAKI,OAAAC,EAAA,EAAAD,CAAA,CACHE,OAAQJ,GACLC,GAELN,SAAU,OACVC,QAAS,SAACC,GACR,IAAMpB,EAAQS,KAAKC,MAAMU,EAAIC,MAC7BP,EAAS,CACPF,KApDgB,aAqDhBZ,eAOG4B,EAAe,WAC1B,OAAO,SAAAd,GACLC,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAK,wCACLC,SAAU,OACVC,QAAS,SAACC,GACR,IAAMnB,EAAWQ,KAAKC,MAAMU,EAAIC,MAChCP,EAAS,CACPF,KApEmB,gBAqEnBX,kBChEJ4B,EAAgBC,EAAA,EAASC,MAEzBC,EAAU,CACd,CAAEC,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,QAASC,MAAO,UAErBC,EAAI,GAAAC,OAAOJ,EAAP,CACR,CAAEC,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,aAAcC,MAAO,cAC9B,CAAED,MAAO,gBAAiBC,MAAO,mBAG7BG,6MACJlC,MAAQ,CACNmC,WAAW,EACXN,QAAS,GACTG,KAAM,MAERI,YAAc,WACZC,EAAKC,SAAS,SAAAtC,GAAK,MAAK,CAAEmC,WAAYnC,EAAMmC,sFAErC,IAAAI,EAAAC,KAAAC,EAC0BD,KAAKE,MAA9BvB,EADDsB,EACCtB,YAAawB,EADdF,EACcE,QACrB,OACEC,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACbJ,EAAAC,EAAAC,cAAA,uCAC4BF,EAAAC,EAAAC,cAAA,WAD5B,yBACwDF,EAAAC,EAAAC,cAAA,WADxD,iBAIFF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,mBACbJ,EAAAC,EAAAC,cAAAG,EAAA,EAAOC,OAAP,CACEC,WAAS,EACTC,KAAK,QACLC,YAAY,SACZC,SAAU,SAAAvB,GAAS,IAAAwB,EACShB,EAAKvC,MAAvB6B,EADS0B,EACT1B,QAASG,EADAuB,EACAvB,KACjBb,EAAYY,EAAO,CAAEF,UAASG,SAC9BW,EAAQa,KAAR,WAAAvB,OAAwBF,OAG1BS,KAAKxC,MAAMmC,WACXS,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAMa,IAAE,GACNd,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UAAUW,MAAO,CAAEC,QAAS,YAAaC,QAAS,OAAQC,oBAAqB,YAC5FlB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,SAAjB,UACAJ,EAAAC,EAAAC,cAACpB,EAAD,CAAeqC,aAAc,CAAC,WAAYC,SAAU,SAACnC,GAAD,OAAaU,EAAKD,SAAS,CAAET,aAAYmB,UAAU,OAAOiB,QAASpC,KAEzHe,EAAAC,EAAAC,cAAA,OAAKE,UAAU,YACbJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,SAAjB,QACAJ,EAAAC,EAAAC,cAACpB,EAAD,CAAeqC,aAAc,CAAC,WAAYC,SAAU,SAAChC,GAAD,OAAUO,EAAKD,SAAS,CAAEN,UAASgB,UAAU,OAAOiB,QAASjC,OAKzHY,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WAAWW,MAAO,CAAEC,QAAS,EAAGM,eAAgB,WAC7DtB,EAAAC,EAAAC,cAAAqB,EAAA,GACER,MAAO,CAAES,YAAa,GACtB3D,KAAK,UACL2C,KAAK,QACLiB,MAAM,SAJR,eAKAzB,EAAAC,EAAAC,cAAAqB,EAAA,GAAQf,KAAK,QAAQiB,MAAM,QAAQC,QAAS9B,KAAKJ,aAAjD,aAGJQ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACbJ,EAAAC,EAAAC,cAAA,qFArDSyB,aAgEJC,cAAQ,KAJI,SAAC7D,GAAD,OACzB8D,YAAmB,CAAEtD,eAAeR,IAGvB6D,CAAkCtC,GCzElCwC,mLARX,OACE9B,EAAAC,EAAAC,cAAA,2BAHcyB,aCULI,mLARX,OACE/B,EAAAC,EAAAC,cAAA,6BAHgByB,aCqDPK,mLA7CX,OACEhC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACbJ,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,MAAIE,UAAU,cACZJ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CACEC,OAAK,EACLC,GAAG,QACHC,gBAAgB,UAChBpC,EAAAC,EAAAC,cAAA,QAAME,UAAU,aACdJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,aAAhB,WAINJ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CACEE,GAAG,cACHC,gBAAgB,UAChBpC,EAAAC,EAAAC,cAAA,QAAME,UAAU,aACdJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,aAAhB,YAINJ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CACEE,GAAG,gBACHC,gBAAgB,UAChBpC,EAAAC,EAAAC,cAAA,QAAME,UAAU,aACdJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,aAAhB,gBAMVJ,EAAAC,EAAAC,cAACmC,EAAA,EAAD,KACErC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOJ,OAAK,EAACK,KAAK,QAAQC,UAAWlD,IACrCU,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,cAAcC,UAAWV,IACrC9B,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,gBAAgBC,UAAWT,aAxC/BJ,2FCDZrB,EAASD,EAAA,EAAMC,OACfxB,EAAgBC,EAAA,EAASC,MAEzBC,EAAU,CACd,CAAEC,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,QAASC,MAAO,UAErBC,EAAI,GAAAC,OAAOJ,EAAP,CACR,CAAEC,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,aAAcC,MAAO,cAC9B,CAAED,MAAO,gBAAiBC,MAAO,mBAG7BsD,6MACJrF,MAAQ,CACN6B,QAAS,GACTG,KAAM,4EAEC,IAAAO,EAAAC,KACCrB,EAAgBqB,KAAKE,MAArBvB,YACR,OACEyB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACbJ,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEE,QAAS,OAAQyB,cAAe,WAC5C1C,EAAAC,EAAAC,cAAA,SAAOE,UAAU,WAAjB,mBACAJ,EAAAC,EAAAC,cAACI,EAAD,CACEG,YAAY,SACZF,WAAW,EACXG,SAAU,SAAAvB,GACRZ,EAAYY,EAAOQ,EAAKvC,WAI9B4C,EAAAC,EAAAC,cAAAyC,EAAA,GAASC,YAAY,QACnB5C,EAAAC,EAAAC,cAAA,SAAOE,UAAU,SAAjB,WAEFJ,EAAAC,EAAAC,cAAC2C,EAAD,CAAe1B,aAAc,CAAC,WAAYC,SAAU,SAACnC,GAAD,OAAaU,EAAKD,SAAS,CAAET,aAAYmB,UAAU,OAAOiB,QAASpC,IACvHe,EAAAC,EAAAC,cAAAyC,EAAA,GAASC,YAAY,QACnB5C,EAAAC,EAAAC,cAAA,SAAOE,UAAU,SAAjB,YAEFJ,EAAAC,EAAAC,cAAC2C,EAAD,CAAe1B,aAAc,CAAC,WAAYC,SAAU,SAAChC,GAAD,OAAUO,EAAKD,SAAS,CAAEN,UAASgB,UAAU,OAAOiB,QAASjC,YA1BhGuC,aAsCVC,cAAQ,KAJI,SAAC7D,GAAD,OACzB8D,YAAmB,CAAEtD,eAAeR,IAGvB6D,CAAkCa,GCzD3CK,mLACK,IACCF,EAAgBhD,KAAKE,MAArB8C,YACR,OACE5C,EAAAC,EAAAC,cAAA,OAAKE,UAAS,aAAAf,OAAeuD,YAJbjB,aAStBmB,EAAQC,aAAe,CACrBH,YAAa,YAGAE,uGCFPE,YAEFC,8MACJC,WAAa,SAACC,GAAO,IACXrF,EAAc2B,EAAKK,MAAnBhC,UACRE,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAK,qCACLI,KAAM,CAAEd,OAAQ,SAAU2F,MAC1BhF,SAAU,OACVC,QAAS,SAACC,GACJA,EAAI+E,QAAQtF,gFAIb,IAAA6B,EAAAC,KAAAC,EAC6BD,KAAKE,MAAjCuD,EADDxD,EACCwD,QAAS/E,EADVuB,EACUvB,KAAMgF,EADhBzD,EACgByD,SACjBC,EAAI7F,KAAKC,MAAMW,EAAKkF,cAEpBC,GAAkD,IAAxCH,EAASI,SAASC,QAAQ,SAEtCC,EAAO,qCAOX,OANAL,EAAEM,aAAaC,QAAQ,SAACC,GACtB,GAAqB,QAAjBA,EAAQlG,KAEV,OADA+F,EAAOG,EAAQC,MAAQ,IAChB,IAIThE,EAAAC,EAAAC,cAAC+D,GAAAhE,EAAD,CAAMa,IAAE,EAACuC,QAASA,GAChBrD,EAAAC,EAAAC,cAAAgE,EAAA,GACE1D,KAAK,QACL2D,MAAOnE,EAAAC,EAAAC,cAAA,OAAKkE,IAAI,GAAGC,IAAG,GAAAhF,OAAKkE,EAAEe,WAAW,GAAGC,YAC3CC,QAASf,EAAU,CAACzD,EAAAC,EAAAC,cAACuE,GAAA,EAAD,CAAMtC,GAAE,eAAA9C,OAAiBf,EAAK6E,KAAMnD,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,OAAO8G,MAAM,YAC9E3E,EAAAC,EAAAC,cAAA0E,EAAA,GACEC,MAAM,oBACNC,UAAU,QACVC,UAAW,kBAAMpF,EAAKuD,WAAW5E,EAAK6E,KACtC6B,OAAO,MACPC,WAAW,MACXjF,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,SAAS8G,MAAM,aAE5B,GACFO,WAAS,GAETlF,EAAAC,EAAAC,cAAC8C,GAAD,CACE6B,MACE7E,EAAAC,EAAAC,cAACuE,GAAA,EAAD,CAAMrE,UAAU,eAAe+B,GAAKsB,EAAO,gBAAApE,OAAmBf,EAAK6E,IAAxB,SAAA9D,OAAwCf,EAAK6E,KAAOI,EAAE4B,WAEnGC,YACEpF,EAAAC,EAAAC,cAACmF,GAAApF,EAAD,CACEqF,KAAM1B,EACN2B,QAAQ,IACRC,SAAS,MACTC,WAAS,EACTC,QAAQ,uBArDD/D,aA+DvBsB,GAASF,aAAe,CACtBM,QAAS,KAGX,IAIezB,eAAQ,KAJI,SAAC7D,GAAD,OACzB8D,YAAmB,CAAE/D,aAAaC,IAGrB6D,CAAkC+D,aAAW1C,KCjFtD2C,oLACK,IACC3I,EAAU2C,KAAKE,MAAf7C,MACR,OACE+C,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QAEXnD,EAAM4I,IAAI,SAACC,EAAMC,GAAP,OACR/F,EAAAC,EAAAC,cAAC8F,GAAD,CAAU1H,KAAMwH,EAAMG,IAAKF,EAAG1C,QAAmB,KAAT0C,EAAI,iBATtCpE,aAuBPC,eAJS,SAACxE,GAAD,OAAAsB,OAAAC,EAAA,EAAAD,CAAA,GACnBtB,EAAMH,QAGI2E,CAAyBgE,qKCzBxC,SAASM,GAAaC,GACpB,IAAMC,EAAsB,eAAdD,EAAKtI,MAAuC,cAAdsI,EAAKtI,KAC5CuI,GACHC,GAAA,EAAQC,MAAM,qCAEhB,IAAMC,EAASJ,EAAK3F,KAAO,KAAO,KAAO,GAIzC,OAHK+F,GACHF,GAAA,EAAQC,MAAM,iCAETF,GAASG,MAiHHC,8MA7GbpJ,MAAQ,CACNkB,KAAM,MAQRmI,SAAW,SAACC,GACV,OAAIC,MAAMC,QAAQF,GACTA,EAEFA,GAAKA,EAAEG,YAEhBC,kBAAoB,SAAC9C,EAAM+C,GACA,cAArB/C,EAAKmC,KAAK/C,QAGW,SAArBY,EAAKmC,KAAK/C,QAEZ3D,EAAKuH,aAAaD,EAAO,QAAS/C,EAAKmC,KAAKc,SAGhDC,OAAS,WAAM,IACL5I,EAASmB,EAAKrC,MAAdkB,KACRA,EAAKsC,KAAK,CACRuC,GAAI7E,EAAKhB,OACTuH,MAAO,GACPO,YAAa,KAGf3F,EAAKC,SAAS,CAAEpB,YAElB6I,UAAY,SAACJ,GAAU,IACbzI,EAASmB,EAAKrC,MAAdkB,KACRA,EAAK8I,OAAOL,EAAO,GAEnBtH,EAAKC,SAAS,CAAEpB,YAElB0I,aAAe,SAACD,EAAOd,EAAK9G,GAAU,IAC5Bb,EAASmB,EAAKrC,MAAdkB,KACRA,EAAKyI,GAAOd,GAAO9G,EAEnBM,EAAKC,SAAS,CAAEpB,QAAQ,kBAAMmB,EAAKK,MAAMsB,SAAS9C,8EAE3C,IAAAqB,EAAAC,KACCtB,EAASsB,KAAKxC,MAAdkB,KACF+I,EAAU,CACd,CACExC,MAAO,IACPoB,IAAK,KACLqB,OAAQ,SAACC,EAAGC,EAAGzB,GAAP,OAAa/F,EAAAC,EAAAC,cAAA,YAAS6F,EAAI,KAEpC,CACElB,MAAO,QACPoB,IAAK,QACLwB,UAAW,QACXH,OAAQ,SAACC,EAAGC,EAAGzB,GAAP,OAAa/F,EAAAC,EAAAC,cAAAG,EAAA,GAAOlB,MAAOoI,EAAGnG,SAAU,SAAAsG,GAAA,IAAGC,EAAHD,EAAGC,OAAH,OAAgBhI,EAAKqH,aAAajB,EAAG,QAAS4B,EAAOxI,YAEvG,CACE0F,MAAO,cACPoB,IAAK,cACLwB,UAAW,cACXH,OAAQ,SAACC,EAAGC,EAAGzB,GAAP,OAAa/F,EAAAC,EAAAC,cAAAG,EAAA,GAAOlB,MAAOoI,EAAGnG,SAAU,SAAAwG,GAAA,IAAGD,EAAHC,EAAGD,OAAH,OAAgBhI,EAAKqH,aAAajB,EAAG,cAAe4B,EAAOxI,YAE7G,CACE0F,MAAO,QACPoB,IAAK,QACLwB,UAAW,QACXH,OAAQ,SAACC,EAAGC,EAAGzB,GAAP,OACJ/F,EAAAC,EAAAC,cAAA2H,GAAA,GACErK,OAAO,sCACP0I,aAAcA,GACd4B,gBAAgB,EAChB1G,SAAU,SAAC4C,GAAD,OAAUrE,EAAKmH,kBAAkB9C,EAAM+B,KAG/CgC,QAAQR,GACRvH,EAAAC,EAAAC,cAAA,OAAKmE,IAAG,oCAAAhF,OAAsCkI,GAAKxG,MAAO,CAAEiH,MAAO,GAAIC,OAAQ,GAAIC,aAAc,KACjGlI,EAAAC,EAAAC,cAAAqB,EAAA,GAAQmD,KAAK,cAIvB,CACEG,MAAO,IACPoB,IAAK,SACLqB,OAAQ,SAACC,EAAGC,EAAGzB,GAAP,OAAa/F,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,SAAS6D,QAAS,kBAAM/B,EAAKwH,UAAUpB,SAG3E,OACE/F,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEoH,SAAU,aACtBnI,EAAAC,EAAAC,cAAAqB,EAAA,GACEG,QAAS9B,KAAKsH,OACdxC,KAAK,OACLjD,MAAM,SACNV,MAAO,CACLoH,SAAU,WACVC,MAAO,EACPC,IAAK,EACLC,OAAQ,QAGZtI,EAAAC,EAAAC,cAAAqI,GAAA,GAAOC,YAAY,EAAOC,OAAQ,KAAMpB,QAASA,EAASqB,WAAYpK,EAAMkC,KAAK,8DApGvDV,GAC9B,OAAMA,EAAMX,MACH,CAAEb,KAAMwB,EAAMX,OAEhB,YARkBwC,aCTvBgH,SADEC,SACOC,GAAA,EAAOF,QAEtB,SAASzC,GAAaC,GACpB,IAAMC,EAAsB,eAAdD,EAAKtI,MAAuC,cAAdsI,EAAKtI,KAC5CuI,GACHC,GAAA,EAAQC,MAAM,qCAEhB,IAAMC,EAASJ,EAAK3F,KAAO,KAAO,KAAO,GAIzC,OAHK+F,GACHF,GAAA,EAAQC,MAAM,iCAETF,GAASG,MAwIHuC,8MApIb1L,MAAQ,CACN2L,KAAM,MAORC,OAAS,WAAM,IACLD,EAAStJ,EAAKrC,MAAd2L,KACRA,EAAKnI,KAAK,CACRiE,MAAO,GACPhH,KAAM,MACNmG,KAAM,KACNiF,OAAQ,GACRC,KAAM,KAGRzJ,EAAKC,SAAS,CAAEqJ,QAAQ,WAEtBI,SAASC,eAAT,OAAA/J,OAA+B0J,EAAKzL,OAAS,IAAK+L,sBAGtD5C,SAAW,SAACC,GACV,OAAIC,MAAMC,QAAQF,GACTA,EAEFA,GAAKA,EAAEG,YAEhBC,kBAAoB,SAAC9C,EAAM+C,GACA,cAArB/C,EAAKmC,KAAK/C,QAGW,SAArBY,EAAKmC,KAAK/C,QAEZ3D,EAAKuH,aAAaD,EAAO,SAAU/C,EAAKmC,KAAKc,SAGjDqC,UAAY,SAACvC,GAAU,IACbgC,EAAStJ,EAAKrC,MAAd2L,KACRA,EAAK3B,OAAOL,EAAO,GACnBtH,EAAKC,SAAS,CAAEqJ,YAElB/B,aAAe,SAACD,EAAOd,EAAK9G,GAAU,IAC5B4J,EAAStJ,EAAKrC,MAAd2L,KACRA,EAAKhC,GAAOd,GAAO9G,EACnBM,EAAKC,SAAS,CAAEqJ,QAAQ,kBAAMtJ,EAAKK,MAAMsB,SAAS2H,8EAE3C,IAAApJ,EAAAC,KACCmJ,EAASnJ,KAAKxC,MAAd2L,KACFQ,EAAc,SAACxD,EAAGyD,GAAJ,MAAY,CAC9BxJ,EAAAC,EAAAC,cAAA2H,GAAA,GACErK,OAAO,sCACP0I,aAAcA,GACd4B,gBAAgB,EAChB1G,SAAU,SAAC4C,GAAD,OAAUrE,EAAKmH,kBAAkB9C,EAAM+B,KAG/CgC,QAAQyB,EAAIP,QACZjJ,EAAAC,EAAAC,cAAA,OAAKmE,IAAG,oCAAAhF,OAAsCmK,EAAIP,QAAUlI,MAAO,CAAEiH,MAAO,GAAIC,OAAQ,GAAIC,aAAc,KAC1GlI,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,WAAjB,oBAIN,OACEmC,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAAAqB,EAAA,GAAQG,QAAS9B,KAAKoJ,OAAQvH,MAAM,QAAQjB,KAAK,SAAjD,OAEEuI,EAAKlD,IAAI,SAAC2D,EAAKzD,GAAN,OACP/F,EAAAC,EAAAC,cAACW,EAAAZ,EAAD,CAAMa,IAAE,EAACmF,IAAKF,EAAI,IAChB/F,EAAAC,EAAAC,cAAAgE,EAAA,GACEM,QAAUuE,EAAKzL,OAAS,EAAd,GAAA+B,OAAAX,OAAA+K,GAAA,EAAA/K,CACL6K,EAAYxD,EAAGyD,IADV,CAERxJ,EAAAC,EAAAC,cAAA0E,EAAA,GAAYC,MAAM,uBAAuBE,UAAW,kBAAMpF,EAAK2J,UAAUvD,KACvE/F,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,WAAjB,sBAEA0L,EAAYxD,EAAGyD,GACnBtE,WAAS,EACT9E,UAAU,YACVI,KAAK,QACLO,MAAO,CAAE2I,aAAc,IAEvB1J,EAAAC,EAAAC,cAAA,OAAKiD,GAAE,OAAA9D,OAAS0G,IACd/F,EAAAC,EAAAC,cAAAG,EAAA,EAAOrB,MAAP,CAAa2K,SAAO,EAAC5I,MAAO,CAAE2I,aAAc,IAC1C1J,EAAAC,EAAAC,cAAAG,EAAA,GACElB,MAAOqK,EAAI3E,MACXzD,SAAU,SAAAsG,GAAA,IAAGC,EAAHD,EAAGC,OAAH,OAAgBhI,EAAKqH,aAAajB,EAAG,QAAS4B,EAAOxI,QAC/D4B,MAAO,CAAEiH,MAAO,OAChBvH,YAAY,kBAEdT,EAAAC,EAAAC,cAAA2I,GAAA,GACE1J,MAAOqK,EAAI3L,KACXuD,SAAU,SAACjC,GACTQ,EAAKqH,aAAajB,EAAG,OAAQ5G,GACf,QAAVA,EACFQ,EAAKqH,aAAajB,EAAG,OAAQ,IAE7BpG,EAAKqH,aAAajB,EAAG,OAAQ,KAEjChF,MAAO,CAAEiH,MAAO,OAChBvH,YAAY,gBACZT,EAAAC,EAAAC,cAACyI,GAAD,CAAQxJ,MAAM,OAAd,aACAa,EAAAC,EAAAC,cAACyI,GAAD,CAAQxJ,MAAM,OAAd,aAIW,QAAbqK,EAAI3L,KAUJmC,EAAAC,EAAAC,cAAAG,EAAA,EAAOuJ,SAAP,CACEzK,MAAOqK,EAAIxF,KACXvD,YAAY,cACZW,SAAU,SAAAwG,GAAA,IAAGD,EAAHC,EAAGD,OAAH,OAAgBhI,EAAKqH,aAAajB,EAAG,OAAQ4B,EAAOxI,QAAQ0K,KAAM,IAC9E7J,EAAAC,EAAAC,cAAC4J,GAAD,CAAgB3K,MAAOqK,EAAIxF,KAAM5C,SAAU,SAAC4C,GAAD,OAAUrE,EAAKqH,aAAajB,EAAG,OAAQ/B,+DArHpElE,GAC9B,OAAMA,EAAMX,MACH,CAAE4J,KAAMjJ,EAAMX,OAChB,YAPYwC,aCqDRoI,8MApEb3M,MAAQ,CACNiE,QAAS,MAKX2I,YAAc,WAAM,IACVC,EAAWxK,EAAKK,MAAhBmK,OAERjM,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAG,4BAAAmB,OAA8B4K,EAA9B,QACH9L,SAAU,OACVC,QAAS,SAACC,GACR,IAAMgD,EAAU3D,KAAKC,MAAMU,EAAIC,MAC/BmB,EAAKC,SAAS,CAAE2B,kBAItB6I,aAAe,SAACxD,GACd,GAAgB,KAAZA,EAAEyD,MAAc,KACVF,EAAWxK,EAAKK,MAAhBmK,OACF9K,EAAQuH,EAAEiB,OAAOxI,MAEjBb,EAAO,CACX2I,KAAM9H,GAGJA,EAAM7B,OAAS,GAEjBU,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAG,4BAAAmB,OAA8B4K,EAA9B,QACH3L,KAAM,CAAEd,OAAQ,OAAQc,QACxBH,SAAU,OACVC,QAAS,SAACC,GACJA,EAAI+E,QACN3D,EAAKuK,qBAOjBhD,aAAe,SAAC7H,GACdM,EAAKK,MAAMsB,SAASjC,uFAzCpBS,KAAKoK,+CA4CL,OACEhK,EAAAC,EAAAC,cAAA2I,GAAA,GACE1J,MAAOS,KAAKE,MAAMX,MAClBiL,YAAU,EACVC,WAAW,EACXjJ,SAAUxB,KAAKoH,aACfsD,eAAgB1K,KAAKsK,aACrBK,iBAAiB,WACjBC,aAAc,SAACnK,EAAOoK,GAAR,OAAmBA,EAAO3K,MAAM4K,SAASC,cAAchH,QAAQtD,EAAMsK,gBAAkB,GACrG5J,MAAO,CAAEiH,MAAO,SAEdpI,KAAKxC,MAAMiE,QAAQwE,IAAI,SAAC4E,EAAQ1E,GAAT,OACrB/F,EAAAC,EAAAC,cAAA2I,GAAA,EAAQF,OAAR,CAAe1C,IAAKF,EAAG5G,MAAOsL,EAAOtH,GAAK,IAAMsH,EAAOxD,gBA7DtCtF,aCE7B,SAASuE,GAAaC,GACpB,IAAMC,EAAsB,eAAdD,EAAKtI,MAAuC,cAAdsI,EAAKtI,KAC5CuI,GACHC,GAAA,EAAQC,MAAM,qCAEhB,IAAMC,EAASJ,EAAK3F,KAAO,KAAO,KAAO,GAIzC,OAHK+F,GACHF,GAAA,EAAQC,MAAM,iCAETF,GAASG,MAGZqE,8MAIJnE,SAAW,SAACC,GACV,OAAIC,MAAMC,QAAQF,GACTA,EACFA,GAAKA,EAAEG,6FALdjH,KAAKE,MAAM+K,YAAYjL,KAAKE,MAAMgL,uCAO3B,IACCC,EAAsBnL,KAAKE,MAAMgL,KAAjCC,kBACR,OACE/K,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,aAAf,mBACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KAEIH,EAAkB,YAAa,CAC7BI,MAAO,CACL,CAAEC,UAAU,KAFhBL,CAKE/K,EAAAC,EAAAC,cAAAG,EAAA,GAAOE,WAAS,OAKxBP,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEE,QAAS,OAAQC,oBAAqB,UAAWmK,cAAe,KAC5ErL,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,cAAf,SACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KAEIH,EAAkB,aAAc,CAC9BI,MAAO,CACL,CAAEC,UAAU,KAFhBL,CAKE/K,EAAAC,EAAAC,cAACoL,GAAD,CAAgBrB,OAAQ,aAKhCjK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,eAAf,UACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KAEIH,EAAkB,cAAe,CAC/BI,MAAO,CACL,CAAEC,UAAU,KAFhBL,CAKE/K,EAAAC,EAAAC,cAACoL,GAAD,CAAgBrB,OAAQ,iBAMlCjK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,eAAf,UACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KAEIH,EAAkB,cAAe,CAC/BI,MAAO,CACL,CAAEC,UAAU,KAFhBL,CAKE/K,EAAAC,EAAAC,cAACoL,GAAD,CAAgBrB,OAAQ,eAKhCjK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,cAAf,UACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KACIH,EAAkB,aAAc,CAChCQ,cAAe,WACfC,kBAAmB5L,KAAK6G,UAFxBsE,CAIA/K,EAAAC,EAAAC,cAAA2H,GAAA,GACE4D,SAAS,eACT3D,eAAgB,CAAE4D,iBAAiB,GACnClO,OAAO,sCACP0I,aAAcA,IAEdlG,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,OAAOkD,MAAO,CAAE4K,SAAU,UAK7C3L,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,aAAf,cACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KAEIH,EAAkB,YAAlBA,CACE/K,EAAAC,EAAAC,cAAA2I,GAAA,GACE+C,KAAK,OACL7K,MAAO,CAAEiH,MAAO,QAChB6D,MAAM,EACNC,gBAAiB,CAAC,KAClBC,WAAY/L,EAAAC,EAAAC,cAAC8L,GAAA/L,EAAD,CAAW0L,SAAS,eAM1C3L,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,YAAf,YACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KAEIH,EAAkB,WAAlBA,CACE/K,EAAAC,EAAAC,cAAA2I,GAAA,GACE+C,KAAK,OACL7K,MAAO,CAAEiH,MAAO,QAChB6D,MAAM,EACNC,gBAAiB,CAAC,KAClBC,WAAY/L,EAAAC,EAAAC,cAAC8L,GAAA/L,EAAD,CAAW0L,SAAS,eAM1C3L,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,cAAf,eACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KAEIH,EAAkB,aAAlBA,CACE/K,EAAAC,EAAAC,cAAA2I,GAAA,GACE+C,KAAK,OACL7K,MAAO,CAAEiH,MAAO,QAChB6D,MAAM,EACNC,gBAAiB,CAAC,KAClBC,WAAY/L,EAAAC,EAAAC,cAAC8L,GAAA/L,EAAD,CAAW0L,SAAS,eAM1C3L,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,SAAO8K,QAAQ,gBAAf,WACAhL,EAAAC,EAAAC,cAAA+K,GAAA,EAAMC,KAAN,KAEIH,EAAkB,eAAlBA,CACE/K,EAAAC,EAAAC,cAAC+L,GAAD,iBA9IOtK,aAwJRuK,GAAAjB,GAAA,EAAKkB,QAAL,CAAcvB,IChKvBwB,8MACJtB,KAAO,OACP1N,MAAQ,CACNiP,SAAS,KA6BXC,YAAc,WACZ7M,EAAKK,MAAMC,QAAQwM,YAErBC,QAAU,SAAC1B,GACTrL,EAAKqL,KAAOA,KAEd2B,aAAe,WACPhN,EAAKqL,MACTrL,EAAKqL,KAAK4B,wBAAwB,SAACC,EAAKC,GACtC,IAAKD,EAAK,CACR,IAAMrO,EAAO,CACXkF,aAAc9F,KAAKE,UAAUgP,GAC7BC,QAASD,EAAOzH,UAChB2H,SAAUF,EAAOG,WACjBC,UAAWJ,EAAOK,YAClBC,UAAWN,EAAOO,QAIdC,GAAkD,IADnC3N,EAAKK,MAAlBwD,SACmBI,SAASC,QAAQ,OAExC0J,EAAU,CAAE7P,OAAQ,OAAQc,QAEhC,IAAK8O,EAEHC,EAAU,CAAE7P,OAAQ,SAAU2F,GADnB1D,EAAKK,MAAMwN,MAAMC,OAAOpK,GACD7E,QAGpCN,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAG,qCACHI,KAAM+O,EACNlP,SAAU,OACVC,QAAS,SAACC,GACJA,EAAI+E,SACFgK,EACF/G,GAAA,EAAQjI,QAAQ,4BAEhBiI,GAAA,EAAQjI,QAAQ,8BAElBqB,EAAKK,MAAMhC,YACX2B,EAAK6M,+GApEOkB,GAAW,IAAA7N,EAAAC,KAC/B4N,EAAUnB,UAAYzM,KAAKE,MAAMuM,SACnCzM,KAAKF,SAAS,CAAE2M,QAASmB,EAAUnB,SAAW,WAC5C,GAAImB,EAAUnB,QAAS,KAEfe,GAAkD,IADnCI,EAAblK,SACmBI,SAASC,QAAQ,OAEtCR,EAAKqK,EAAUF,MAAMC,OAAOpK,GAC7BiK,GACHpP,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAK,qCACLI,KAAM,CAAEd,OAAQ,SAAU2F,MAC1BhF,SAAU,OACVC,QAAS,SAACC,GACR,IAAMC,EAAOZ,KAAKC,MAAMU,EAAIC,MACtBuO,EAAUnP,KAAKC,MAAMW,EAAKkF,cAC5B7D,EAAKmL,MACPnL,EAAKmL,KAAK2C,eAAV/O,OAAAC,EAAA,EAAAD,CAAA,GAA8BmO,2CA0DrC,IACCR,EAAYzM,KAAKxC,MAAjBiP,QAGFe,GAAkD,IAFnCxN,KAAKE,MAAlBwD,SAEmBI,SAASC,QAAQ,OAC5C,OACE3D,EAAAC,EAAAC,cAAAwN,GAAA,GACEC,gBAAc,EACdtB,QAASA,EACTuB,SAAUhO,KAAK0M,YACfuB,KAAMjO,KAAK6M,aACXqB,cAAe,CAAErM,MAAO,SACxBsM,kBAAmB,CAAEtM,MAAO,SAC5BoD,MAAQuI,EAAY,eAAiB,YACrChN,UAAU,aACVW,MAAO,CAAEsH,IAAK,IACdL,MAAO,KAEPhI,EAAAC,EAAAC,cAACgM,GAAD,CAAUrB,YAAajL,KAAK4M,kBAnGX7K,aA6GVC,eAAQ,KAJI,SAAC7D,GAAD,OACzB8D,YAAmB,CAAE/D,aAAaC,IAGrB6D,CAAkC+D,aAAWyG,KCzGtD9M,8MACJlC,MAAQ,CACN4Q,gBAAgB,sFAahBpO,KAAKE,MAAMhC,6CAGJ,IACCkQ,EAAmBpO,KAAKxC,MAAxB4Q,eACR,OACEhO,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACbJ,EAAAC,EAAAC,cAAC+N,GAAD,CAAY5B,QAAS2B,IACrBhO,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEC,QAAS,KACrBhB,EAAAC,EAAAC,cAACuE,GAAA,EAAD,CAAMtC,GAAE,cACNnC,EAAAC,EAAAC,cAAAqB,EAAA,GAAQmD,KAAK,OAAOwJ,OAAK,EAACzM,MAAM,QAAQ5D,KAAK,WAA7C,cAGJmC,EAAAC,EAAAC,cAACiO,EAAD,OAEFnO,EAAAC,EAAAC,cAACkO,EAAD,MACApO,EAAAC,EAAAC,cAACmO,GAAD,0DA3B0Bb,GAAW,IACjCF,EAAoBE,EAApBF,MAAOhK,EAAakK,EAAblK,SAKf,MAAO,CAAE0K,iBAJUV,EAAXC,OAEcpK,KAA4C,IAAtCG,EAASI,SAASC,QAAQ,eATvChC,aA0CJC,eAAQ,KAJI,SAAC7D,GAAD,OACzB8D,YAAmB,CAAE/D,aAAaC,IAGrB6D,CAAkCtC,+DC9C3CgP,GAAUC,GAAA,EAAKD,QAEfE,8MACJpR,MAAQ,CACNkB,KAAM,QAmBRmQ,SAAW,SAAC1K,GAAY,IACd7G,EAAauC,EAAKK,MAAlB5C,SAER,OADqB6G,EAAQ2K,MAAM,KACf7I,IAAI,SAAC8I,EAAK5I,GAC5B,IAAM6I,EAAQD,EAAIhE,cACZ2C,EAAQuB,KAAEC,KAAK5R,EAAU,CAAE6R,KAAMH,IACvC,OAAItB,EACKtN,EAAAC,EAAAC,cAAA8O,GAAA,GAASnK,MAAO+J,EAAO7K,QAASuJ,EAAM2B,YAC3CjP,EAAAC,EAAAC,cAAA,QAAME,UAAU,QAAQuO,EAAxB,MAGK3O,EAAAC,EAAAC,cAAA,QAAM+F,IAAKF,EAAI,IAAK4I,EAApB,2FA5BO,IAAAhP,EAAAC,KAClBA,KAAKE,MAAMjB,eADO,IAEVsE,EAAOvD,KAAKE,MAAMwN,MAAMC,OAAxBpK,GACRnF,IAAEC,KAAK,CACLJ,KAAM,OACNK,IAAK,qCACLI,KAAM,CAAEd,OAAQ,SAAU2F,MAC1BhF,SAAU,OACVC,QAAS,SAACC,GACR,IAAMC,EAAOZ,KAAKC,MAAMU,EAAIC,MACtBuO,EAAUnP,KAAKC,MAAMW,EAAKkF,qBAEzBlF,EAAKkF,aACZ7D,EAAKD,SAAS,CAAEpB,KAAM,CAAEA,OAAMuO,iDAmB3B,IAAAqC,EAAAtP,KACCtB,EAASsB,KAAKxC,MAAdkB,KACF+I,EAAU,CACd,CACExC,MAAO,WACP4C,UAAW,QACXxB,IAAK,SAEP,CACEpB,MAAO,cACP4C,UAAW,cACXxB,IAAK,cACLqB,OAAQ,SAACC,GAAD,OAAOvH,EAAAC,EAAAC,cAAA,WAAOgP,EAAKT,SAASlH,MAEtC,CACE1C,MAAO,IACP4C,UAAW,QACXxB,IAAK,QACLqB,OAAQ,SAACC,GAAD,OAAOvH,EAAAC,EAAAC,cAAA,OAAKmE,IAAG,oCAAAhF,OAAsCkI,GAAKxG,MAAO,CAAEiH,MAAO,SAGtF,OACEhI,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEoO,KAAM,EAAGlO,QAAS,OAAQK,eAAgB,SAAU8N,gBAAiB,UAAWC,UAAW,SAErG/Q,GACA0B,EAAAC,EAAAC,cAAAgE,EAAA,GACEgB,WAAS,EACT9E,UAAU,WAEVJ,EAAAC,EAAAC,cAAA,OACEE,UAAU,iBACVW,MAAO,CAAEuO,gBAAe,OAAAjQ,OAASf,EAAKuO,QAAQvI,WAAW,GAAGC,SAApC,OACxBvE,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WACbJ,EAAAC,EAAAC,cAAA,MAAIa,MAAO,CAAE2I,aAAc,EAAG6F,WAAY,QAASC,UAAW,SAAU7D,SAAU,KAAOrN,EAAKuO,QAAQ1H,WACtGnF,EAAAC,EAAAC,cAAA,UAAK5B,EAAKA,KAAK6O,UAGnBnN,EAAAC,EAAAC,cAAA,OAAKE,UAAU,oBACbJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,SAAK5B,EAAKA,KAAKmR,SAEjBzP,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,SAAK5B,EAAKA,KAAKoR,QAEjB1P,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SAAK5B,EAAKuO,QAAQ8C,UAAUC,KAAK,QAEnC5P,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SAAK5B,EAAKuO,QAAQgD,SAASD,KAAK,QAElC5P,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,SAAK5B,EAAKuO,QAAQiD,WAAWF,KAAK,SAGtC5P,EAAAC,EAAAC,cAAAqO,GAAA,GAAMnN,SAAU,cAEZ9C,EAAKuO,QAAQhJ,aAAagC,IAAI,SAAC9B,EAASgC,GAAV,OAC5B/F,EAAAC,EAAAC,cAACoO,GAAD,CAAS9E,IAAKzF,EAAQc,MAAOoB,IAAKF,EAAI,IAEf,QAAjBhC,EAAQlG,KACNmC,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEC,QAAS,WAAYC,QAAS,OAAQC,oBAAqB,UAAW6O,QAAS,GAAIC,UAAW,MAC1GhQ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAKgP,EAAKT,SAAS1K,EAAQC,QAE7BhE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEiH,MAAO,QAAU3D,IAAG,oCAAAhF,OAAsC0E,EAAQkF,YAGpFjJ,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEC,QAAS,WAAYgP,UAAW,MAC5ChQ,EAAAC,EAAAC,cAAAqI,GAAA,GACE0H,UAAQ,EACRzP,KAAK,QACL6G,QAASA,EACTmB,YAAY,EACZE,WAAY3E,EAAQC,qBAnHxBrC,aAyIXC,eARS,SAACxE,GAAD,OAAAsB,OAAAC,EAAA,EAAAD,CAAA,GACnBtB,EAAMH,QAGgB,SAACc,GAAD,OACzB8D,YAAmB,CAAEhD,gBAAgBd,IAGxB6D,CAA6C4M,IC/IpD0B,cAAQC,aAAOC,eAkERC,8MA/DbjT,MAAQ,CACNkT,WAAW,KAGbC,OAAS,WACP9Q,EAAKC,SAAS,CACZ4Q,WAAY7Q,EAAKrC,MAAMkT,qFAKzB,OACEtQ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAAsQ,EAAA,OACExQ,EAAAC,EAAAC,cAACiQ,GAAD,CACEM,QAAS,KACTC,aAAW,EACXJ,UAAW1Q,KAAKxC,MAAMkT,UACtBvP,MAAO,CAAE4P,WAAY,OAAQC,UAAW,sCAExC5Q,EAAAC,EAAAC,cAAA,OAAKE,UAAU,SACfJ,EAAAC,EAAAC,cAAA2Q,EAAA,GAAMjF,KAAK,SAASkF,oBAAqB,CAAC,MACxC9Q,EAAAC,EAAAC,cAAA2Q,EAAA,EAAM3F,KAAN,CAAWjF,IAAI,KACbjG,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,WAAW8G,MAAM,WAC5B3E,EAAAC,EAAAC,cAAA,yBAEFF,EAAAC,EAAAC,cAAA2Q,EAAA,EAAM3F,KAAN,CAAWjF,IAAI,KACbjG,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,UAAU8G,MAAM,WAC3B3E,EAAAC,EAAAC,cAAA,yBAEFF,EAAAC,EAAAC,cAAA2Q,EAAA,EAAM3F,KAAN,CAAWjF,IAAI,KACbjG,EAAAC,EAAAC,cAAAwE,EAAA,GAAM7G,KAAK,cAAc8G,MAAM,WAC/B3E,EAAAC,EAAAC,cAAA,wBAINF,EAAAC,EAAAC,cAAAsQ,EAAA,OACExQ,EAAAC,EAAAC,cAACgQ,GAAD,CAAQnP,MAAO,CAAE4P,WAAY,OAAQ3P,QAAS,IAC5ChB,EAAAC,EAAAC,cAAAwE,EAAA,GACEtE,UAAU,UACVvC,KAAM+B,KAAKxC,MAAMkT,UAAY,cAAgB,YAC7C5O,QAAS9B,KAAK2Q,UAGlBvQ,EAAAC,EAAAC,cAACkQ,GAAD,CAASrP,MAAO,CACdgQ,OAAQ,YAAa/P,QAAS,EAAGC,QAAS,OAAQ0P,WAAY,OAAQX,UAAW,MAGjFhQ,EAAAC,EAAAC,cAACmC,EAAA,EAAD,KACErC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOJ,OAAK,EAACK,KAAK,SAAS+E,OAAQ,kBAAMtH,EAAAC,EAAAC,cAAC8Q,EAAA,EAAD,CAAU7O,GAAG,oBACtDnC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOJ,OAAK,EAACK,KAAK,eAAeC,UAAWlD,KAC5CU,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,mBAAmBC,UAAWgM,KAC1CxO,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,kBAAkBC,UAAWlD,KACzCU,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,aAAaC,UAAWlD,iBAtDhCqC,aCIAoG,QACW,cAA7BkJ,OAAO3N,SAAS4N,UAEe,UAA7BD,OAAO3N,SAAS4N,UAEhBD,OAAO3N,SAAS4N,SAAS5D,MACvB,iHCZOvN,UAAUoR,KAEjBC,GAAa,CAACC,KAAOC,aAAiBvR,KA8B5C,ICjCgBA,GDmCVwR,GAAoBC,IAAOC,WAAP,GAAQC,IAAeD,WAAf,EAAmBL,KAA3B/R,OAjCR,KAuCHsS,GAJDC,aCrCE7R,GDqCsBA,GCrCV8R,YAAgB,CAC1CC,OAAQC,aAAchS,IACtB9C,WD+BmB,GAIyCsU,IExB/C3L,oLAbX,OACE5F,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WAAWW,MAAO,CAAEiH,MAAO,QAASC,OAAQ,UACzDjI,EAAAC,EAAAC,cAAA,YAGAF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OAAOW,MAAO,CAAEoO,KAAM,EAAGhH,SAAU,aAChDnI,EAAAC,EAAAC,cAACmO,GAAD,eARY1M,aCWtBqQ,IAAS1K,OACPtH,EAAAC,EAAAC,cAAC+R,EAAA,EAAD,CAAUN,MAAOA,IACf3R,EAAAC,EAAAC,cAACgS,GAAA,EAAD,CAAiBnS,QAASA,IACxBC,EAAAC,EAAAC,cAACiS,GAAA,EAAD,KACEnS,EAAAC,EAAAC,cAACmC,EAAA,EAAD,KACErC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,QAAQC,UAAWR,IAC/BhC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,SAASC,UAAW6N,KAChCrQ,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,mBAAmBC,UAAWoD,KAC1C5F,EAAAC,EAAAC,cAACoC,EAAA,EAAD,CAAOC,KAAK,YAAYC,UAAWgM,SAKzCrF,SAASC,eAAe,SJsGtB,kBAAmBgJ,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.4c5b6f96.chunk.js","sourcesContent":["import $ from 'jquery';\r\n\r\nexport const LOAD_VINES = 'LOAD_VINES';\r\nexport const LOAD_GLOSSARY = 'LOAD_GLOSSARY';\r\n\r\nconst initialState = {\r\n  vines: [],\r\n  glossary: []\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  let _state = JSON.parse(JSON.stringify(state));\r\n\r\n  switch(action.type) {\r\n    case LOAD_VINES:\r\n      _state.vines = action.vines;\r\n    return _state;\r\n    case LOAD_GLOSSARY:\r\n      _state.glossary = action.glossary;\r\n    return _state;\r\n    default: return _state;\r\n  }\r\n}\r\n\r\nexport const loadVines = () => {\r\n  return dispatch => {\r\n    $.ajax({\r\n      type: 'post',\r\n      url: 'http://localhost/vinesdb/vines.php',\r\n      dataType: 'json',\r\n      success: (res) => {\r\n        const vines = JSON.parse(res.data);\r\n        dispatch({\r\n          type: LOAD_VINES,\r\n          vines\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport const searchVines = (keyword, flags) => {\r\n  return dispatch => {\r\n    $.ajax({\r\n      type: 'post',\r\n      url: 'http://localhost/vinesdb/search.php',\r\n      data: {\r\n        search: keyword,\r\n        ...flags\r\n      },\r\n      dataType: 'json',\r\n      success: (res) => {\r\n        const vines = JSON.parse(res.data);\r\n        dispatch({\r\n          type: LOAD_VINES,\r\n          vines\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport const loadGlossary = () => {\r\n  return dispatch => {\r\n    $.ajax({\r\n      type: 'post',\r\n      url: 'http://localhost/vinesdb/glossary.php',\r\n      dataType: 'json',\r\n      success: (res) => {\r\n        const glossary = JSON.parse(res.data);\r\n        dispatch({\r\n          type: LOAD_GLOSSARY,\r\n          glossary\r\n        });\r\n      }\r\n    });\r\n  }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport { Input, Button, Checkbox } from 'antd';\r\nimport Grow from '@material-ui/core/Grow';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { searchVines } from '../../redux/reducers/vines';\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\nconst filters = [\r\n  { label: \"Species\", value: \"species\" },\r\n  { label: \"Family\", value: \"family\" },\r\n  { label: \"Genus\", value: \"genus\" }\r\n];\r\nconst sort = [...filters,\r\n  { label: \"Author\", value: \"author\"},\r\n  { label: \"Date Added\", value: \"date_added\"},\r\n  { label: \"Date Modified\", value: \"date_modified\"},\r\n];\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    showTools: false,\r\n    filters: [],\r\n    sort: []\r\n  }\r\n  toggleTools = () => {\r\n    this.setState(state => ({ showTools: !state.showTools }))\r\n  }\r\n  render() {\r\n    const { searchVines, history } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <div className=\"welcome flex\">\r\n          <h1>\r\n            Philippine Commercial and <br />Potentially Commercial<br />Forest Vines\r\n          </h1>\r\n        </div>\r\n        <div className=\"search flex col\">\r\n          <Input.Search\r\n            autoFocus\r\n            size=\"large\"\r\n            placeholder=\"Search\"\r\n            onSearch={value => {\r\n              const { filters, sort } = this.state;\r\n              searchVines(value, { filters, sort });\r\n              history.push(`/search/${value}`);\r\n            }} />\r\n          {\r\n            this.state.showTools &&\r\n            <Grow in>\r\n              <div className=\"options\" style={{ padding: '16px 64px', display: 'grid', gridTemplateColumns: '1fr 1fr' }}>\r\n                <div className=\"flex col\">\r\n                  <label className=\"title\">Filter</label>\r\n                  <CheckboxGroup defaultValue={[\"species\"]} onChange={(filters) => this.setState({ filters })} className=\"list\" options={filters} />\r\n                </div>\r\n                <div className=\"flex col\">\r\n                  <label className=\"title\">Sort</label>\r\n                  <CheckboxGroup defaultValue={[\"species\"]} onChange={(sort) => this.setState({ sort })} className=\"list\" options={sort} />\r\n                </div>\r\n              </div>\r\n            </Grow>\r\n          }\r\n          <div className=\"flex row\" style={{ padding: 8, justifyContent: 'center' }}>\r\n            <Button\r\n              style={{ marginRight: 8 }}\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              shape=\"round\">Search Vine</Button>\r\n            <Button size=\"large\" shape=\"round\" onClick={this.toggleTools}>Options</Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer\">\r\n          <span>Forest Products Research and Development Institute &copy; 2019</span>\r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => (\r\n  bindActionCreators({ searchVines }, dispatch)\r\n);\r\n\r\nexport default connect(null, mapDispatchToProps)(Home);","import React, { Component } from 'react';\r\n\r\nclass About extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        About\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default About;","import React, { Component } from 'react';\r\n\r\nclass Contact extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        Contact\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Contact;","import React, { Component } from 'react';\nimport { NavLink, Route, Switch } from 'react-router-dom';\nimport './App.css';\n\nimport Home from './pages/search/home';\nimport About from './pages/search/about';\nimport Contact from './pages/search/contact';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"home-container\">\n        <div className=\"header flex\">\n          <div></div>\n          <ul className=\"navigation\">\n            <li>\n              <NavLink\n                exact\n                to=\"/home\"\n                activeClassName=\"active\">\n                <span className=\"link-wrap\">\n                  <span className=\"link-text\">Home</span>\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to=\"/home/about\"\n                activeClassName=\"active\">\n                <span className=\"link-wrap\">\n                  <span className=\"link-text\">About</span>\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink\n                to=\"/home/contact\"\n                activeClassName=\"active\">\n                <span className=\"link-wrap\">\n                  <span className=\"link-text\">Contact</span>\n                </span>\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n        <Switch>\n          <Route exact path=\"/home\" component={Home} />\n          <Route path=\"/home/about\" component={About} />\n          <Route path=\"/home/contact\" component={Contact} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\r\nimport { Input, Checkbox, Divider } from 'antd';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { searchVines } from '../../../redux/reducers/vines';\r\n\r\nconst Search = Input.Search;\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\nconst filters = [\r\n  { label: \"Species\", value: \"species\" },\r\n  { label: \"Family\", value: \"family\" },\r\n  { label: \"Genus\", value: \"genus\" }\r\n];\r\nconst sort = [...filters,\r\n  { label: \"Author\", value: \"author\"},\r\n  { label: \"Date Added\", value: \"date_added\"},\r\n  { label: \"Date Modified\", value: \"date_modified\"},\r\n];\r\n\r\nclass SearchTool extends Component {\r\n  state = {\r\n    filters: [],\r\n    sort: []\r\n  }\r\n  render() {\r\n    const { searchVines } = this.props;\r\n    return (\r\n      <div className=\"search-container\">\r\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n          <label className=\"primary\">Search Database</label>\r\n          <Search\r\n            placeholder=\"Search\"\r\n            autoFocus={true}\r\n            onSearch={value => {\r\n              searchVines(value, this.state);\r\n            }}\r\n          />\r\n        </div>\r\n        <Divider orientation=\"left\">\r\n          <label className=\"title\">Filter</label>\r\n        </Divider>\r\n        <CheckboxGroup defaultValue={[\"species\"]} onChange={(filters) => this.setState({ filters })} className=\"list\" options={filters} />\r\n        <Divider orientation=\"left\">\r\n          <label className=\"title\">Sort by</label>\r\n        </Divider>\r\n        <CheckboxGroup defaultValue={[\"species\"]} onChange={(sort) => this.setState({ sort })} className=\"list\" options={sort} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {}\r\n\r\nconst mapDispatchToProps = (dispatch) => (\r\n  bindActionCreators({ searchVines }, dispatch)\r\n);\r\n\r\nexport default connect(null, mapDispatchToProps)(SearchTool);","import React, { Component } from 'react';\r\n\r\nclass Divider extends Component {\r\n  render() {\r\n    const { orientation } = this.props;\r\n    return (\r\n      <div className={`separator ${orientation}`}></div>\r\n    );\r\n  }\r\n}\r\n\r\nDivider.defaultProps = {\r\n  orientation: \"vertical\"\r\n}\r\n\r\nexport default Divider;","import React, { Component } from 'react';\r\nimport { Card, Icon, Popconfirm } from 'antd';\r\nimport LinesEllipsis from 'react-lines-ellipsis';\r\nimport { Link } from 'react-router-dom';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport $ from 'jquery';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { loadVines } from '../../../../redux/reducers/vines';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst { Meta } = Card;\r\n\r\nclass VineCard extends Component {\r\n  deleteVine = (id) => {\r\n    const { loadVines } = this.props;\r\n    $.ajax({\r\n      type: 'post',\r\n      url: 'http://localhost/vinesdb/vines.php',\r\n      data: { action: 'delete', id },\r\n      dataType: 'json',\r\n      success: (res) => {\r\n        if (res.status) loadVines();\r\n      }\r\n    });\r\n  }\r\n  render() {\r\n    const { timeout, data, location } = this.props;\r\n    const d = JSON.parse(data.species_data);\r\n    \r\n    const isAdmin = location.pathname.indexOf(\"admin\") !== -1;\r\n    \r\n    let desc = \"This is a description placeholder.\";\r\n    d.vine_content.forEach((content) => {\r\n      if (content.type === \"par\") {\r\n        desc = content.info || \"\";\r\n        return false;\r\n      }\r\n    });\r\n    return (\r\n      <Fade in timeout={timeout}>\r\n        <Card\r\n          size=\"small\"\r\n          cover={<img alt=\"\" src={`${d.vine_image[0].thumbUrl}`} />}\r\n          actions={isAdmin ? [<Link to={`/admin/edit/${data.id}`}><Icon type=\"edit\" theme=\"filled\" /></Link>, \r\n            <Popconfirm\r\n              title=\"Delete this vine?\"\r\n              placement=\"right\"\r\n              onConfirm={() => this.deleteVine(data.id)}\r\n              okText=\"Yes\"\r\n              cancelText=\"No\">  \r\n              <Icon type=\"delete\" theme=\"filled\" />\r\n            </Popconfirm>\r\n          ]:[]}\r\n          hoverable\r\n        >\r\n          <Meta\r\n            title={\r\n              <Link className=\"species_name\" to={ isAdmin ? `/admin/vines/${data.id}` : `/vine/${data.id}`}>{d.vine_name}</Link>\r\n            }\r\n            description={\r\n              <LinesEllipsis\r\n                text={desc}\r\n                maxLine=\"2\"\r\n                ellipsis=\"...\"\r\n                trimRight\r\n                basedOn=\"letters\"\r\n              />\r\n            }\r\n          />\r\n        </Card>\r\n      </Fade>\r\n    );\r\n  }\r\n}\r\n\r\nVineCard.defaultProps = {\r\n  timeout: 100\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => (\r\n  bindActionCreators({ loadVines }, dispatch)\r\n);\r\n\r\nexport default connect(null, mapDispatchToProps)(withRouter(VineCard));","import React, { Component } from 'react';\r\nimport VineCard from './vines/vine-card';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nclass Results extends Component {\r\n  render() {\r\n    const { vines } = this.props; \r\n    return (\r\n      <div className=\"results-container\">\r\n        <div className=\"grid-container\">\r\n          <div className=\"grid\">\r\n            {\r\n              vines.map((vine, i) => (\r\n                <VineCard data={vine} key={i} timeout={(i + 1) * 100}/>\r\n              ))\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  ...state.vines\r\n});\r\n\r\nexport default connect(mapStateToProps)(Results);","import React, { Component } from 'react';\r\nimport { Table, Input, Button, Icon, Upload, message } from 'antd';\r\n\r\nfunction beforeUpload(file) {\r\n  const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\r\n  if (!isJPG) {\r\n    message.error('You can only upload JPG/PNG file!');\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 10;\r\n  if (!isLt2M) {\r\n    message.error('Image must smaller than 10MB!');\r\n  }\r\n  return isJPG && isLt2M;\r\n}\r\n\r\nclass TabularSection extends Component {\r\n  state = {\r\n    data: []\r\n  }\r\n  static getDerivedStateFromProps(props) {\r\n    if (!!props.value) {\r\n      return { data: props.value };\r\n    }\r\n    return null;\r\n  }\r\n  normFile = (e) => {\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  }\r\n  handleImageChange = (info, index) => {\r\n    if (info.file.status === 'uploading') {\r\n      return;\r\n    }\r\n    if (info.file.status === 'done') {\r\n      // Get this url from response in real world.\r\n      this.handleChange(index, 'image', info.file.name);\r\n    }\r\n  }\r\n  addRow = () => {\r\n    const { data } = this.state;\r\n    data.push({\r\n      id: data.length,\r\n      title: \"\",\r\n      description: \"\"\r\n    });\r\n\r\n    this.setState({ data });\r\n  }\r\n  removeRow = (index) => {\r\n    const { data } = this.state;\r\n    data.splice(index, 1);\r\n\r\n    this.setState({ data });\r\n  }\r\n  handleChange = (index, key, value) => {\r\n    const { data } = this.state;\r\n    data[index][key] = value;\r\n\r\n    this.setState({ data }, () => this.props.onChange(data));\r\n  }\r\n  render() {\r\n    const { data } = this.state;\r\n    const columns = [\r\n      {\r\n        title: '#',\r\n        key: 'no',\r\n        render: (t, r, i) => <span>{ (i + 1) }</span>\r\n      },\r\n      {\r\n        title: 'Title',\r\n        key: 'title',\r\n        dataIndex: 'title',\r\n        render: (t, r, i) => <Input value={t} onChange={({ target }) => this.handleChange(i, 'title', target.value)} />\r\n      },\r\n      {\r\n        title: 'Description',\r\n        key: 'description',\r\n        dataIndex: 'description',\r\n        render: (t, r, i) => <Input value={t} onChange={({ target }) => this.handleChange(i, 'description', target.value)} />\r\n      },\r\n      {\r\n        title: 'Image',\r\n        key: 'image',\r\n        dataIndex: 'image',\r\n        render: (t, r, i) => \r\n            <Upload\r\n              action=\"http://localhost/vinesdb/upload.php\"\r\n              beforeUpload={beforeUpload}\r\n              showUploadList={false}\r\n              onChange={(info) => this.handleImageChange(info, i)}\r\n            >\r\n              {\r\n                Boolean(t) ?\r\n                <img src={`http://localhost/vinesdb/uploads/${t}`} style={{ width: 24, height: 24, borderRadius: 2 }} /> :\r\n                <Button icon=\"upload\" />\r\n              }\r\n            </Upload>\r\n      },\r\n      {\r\n        title: ' ',\r\n        key: 'delete',\r\n        render: (t, r, i) => <Icon type=\"delete\" onClick={() => this.removeRow(i)} />\r\n      }\r\n    ];\r\n    return (\r\n      <div style={{ position: 'relative' }}>\r\n        <Button\r\n          onClick={this.addRow}\r\n          icon=\"plus\"\r\n          shape=\"circle\"\r\n          style={{\r\n            position: 'absolute',\r\n            right: 8,\r\n            top: 4,\r\n            zIndex: 9999\r\n          }}\r\n        />\r\n        <Table pagination={false} rowKey={'id'} columns={columns} dataSource={data} size=\"small\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TabularSection;","import React, { Component, Fragment } from 'react';\r\nimport { Input, Button, Select, Card, Popconfirm, Icon, Upload, message, Mention } from 'antd';\r\nimport TabularSection from './tabular-section';\r\nimport Grow from '@material-ui/core/Grow';\r\n\r\nconst { toString } = Mention;\r\nconst Option = Select.Option;\r\n\r\nfunction beforeUpload(file) {\r\n  const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\r\n  if (!isJPG) {\r\n    message.error('You can only upload JPG/PNG file!');\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 10;\r\n  if (!isLt2M) {\r\n    message.error('Image must smaller than 10MB!');\r\n  }\r\n  return isJPG && isLt2M;\r\n}\r\n\r\nclass VineTabs extends Component {\r\n  state = {\r\n    tabs: []\r\n  }\r\n  static getDerivedStateFromProps(props) {\r\n    if (!!props.value)\r\n      return { tabs: props.value };\r\n    return null;\r\n  }\r\n  addTab = () => {\r\n    const { tabs } = this.state;\r\n    tabs.push({\r\n      title: \"\",\r\n      type: \"par\",\r\n      info: null,\r\n      images: \"\",\r\n      maps: []\r\n    });\r\n    \r\n    this.setState({ tabs }, () => {\r\n      // this.props.onChange('tabs');\r\n      document.getElementById(`card${tabs.length - 1}`).scrollIntoView();\r\n    });\r\n  }\r\n  normFile = (e) => {\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  }\r\n  handleImageChange = (info, index) => {\r\n    if (info.file.status === 'uploading') {\r\n      return;\r\n    }\r\n    if (info.file.status === 'done') {\r\n      // Get this url from response in real world.\r\n      this.handleChange(index, 'images', info.file.name);\r\n    }\r\n  }\r\n  removeTab = (index) => {\r\n    const { tabs } = this.state;\r\n    tabs.splice(index, 1);\r\n    this.setState({ tabs });\r\n  }\r\n  handleChange = (index, key, value) => {\r\n    const { tabs } = this.state;\r\n    tabs[index][key] = value;\r\n    this.setState({ tabs }, () => this.props.onChange(tabs));\r\n  }\r\n  render() {\r\n    const { tabs } = this.state;\r\n    const cardActions = (i, tab) => [\r\n      <Upload\r\n        action=\"http://localhost/vinesdb/upload.php\"\r\n        beforeUpload={beforeUpload}\r\n        showUploadList={false}\r\n        onChange={(info) => this.handleImageChange(info, i)}\r\n      >\r\n        {\r\n          Boolean(tab.images) ?\r\n          <img src={`http://localhost/vinesdb/uploads/${tab.images}`} style={{ width: 24, height: 24, borderRadius: 2 }} /> :\r\n          <span><Icon type=\"upload\" /> Upload Image</span>\r\n        }\r\n      </Upload>\r\n    ];\r\n    return (\r\n      <Fragment>\r\n        <Button onClick={this.addTab} shape=\"round\" size=\"small\">Add</Button>\r\n        {\r\n          tabs.map((tab, i) => (\r\n            <Grow in key={i + \"\"}>\r\n              <Card\r\n                actions={ tabs.length > 1 ? [\r\n                  ...cardActions(i, tab),\r\n                  <Popconfirm title=\"Remove this section?\" onConfirm={() => this.removeTab(i)}>\r\n                    <span><Icon type=\"delete\" /> Remove Section</span>\r\n                  </Popconfirm>\r\n                ] : cardActions(i, tab)}\r\n                hoverable\r\n                className=\"tab-group\"\r\n                size=\"small\"\r\n                style={{ marginBottom: 6 }}\r\n              >\r\n                <div id={`card${i}`}>\r\n                  <Input.Group compact style={{ marginBottom: 6 }}>\r\n                    <Input\r\n                      value={tab.title}\r\n                      onChange={({ target }) => this.handleChange(i, 'title', target.value)}\r\n                      style={{ width: '70%' }}\r\n                      placeholder=\"Section Title\"\r\n                    />\r\n                    <Select\r\n                      value={tab.type}\r\n                      onChange={(value) => {\r\n                        this.handleChange(i, 'type', value);\r\n                        if (value === \"par\")\r\n                          this.handleChange(i, 'info', \"\");\r\n                        else\r\n                          this.handleChange(i, 'info', []);\r\n                      }}\r\n                      style={{ width: '30%' }}\r\n                      placeholder=\"Section Type\">\r\n                      <Option value=\"par\">Paragraph</Option>\r\n                      <Option value=\"tab\">Tabular</Option>\r\n                    </Select>\r\n                  </Input.Group>\r\n                  {\r\n                    tab.type === \"par\" ?\r\n                    // <Mention\r\n                    //   style={{ width: '100%', height: 100 }}\r\n                    //   onChange={(value) => {\r\n                    //     this.handleChange(i, 'info', toString(value));\r\n                    //   }}\r\n                    //   prefix={[' ']}\r\n                    //   defaultSuggestions={['afc163', 'benjycui', 'yiminghe', 'jljsj33', 'dqaria', 'RaoHai']}\r\n                    //   multiLines\r\n                    // />:\r\n                    <Input.TextArea\r\n                      value={tab.info}\r\n                      placeholder=\"Description\"\r\n                      onChange={({ target }) => this.handleChange(i, 'info', target.value)} rows={4} /> :\r\n                    <TabularSection value={tab.info} onChange={(info) => this.handleChange(i, 'info', info)} />\r\n                  }\r\n                </div>\r\n              </Card>\r\n            </Grow>            \r\n          ))\r\n        }\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VineTabs;","import React, { Component } from 'react';\r\nimport { Select } from 'antd';\r\nimport $ from 'jquery';\r\n\r\nclass SelectDropdown extends Component {\r\n  state = {\r\n    options: []\r\n  }\r\n  componentDidMount() {\r\n    this.loadOptions();\r\n  }\r\n  loadOptions = () => {\r\n    const { source } = this.props;\r\n\r\n    $.ajax({\r\n      type: 'post',\r\n      url: `http://localhost/vinesdb/${source}.php`,\r\n      dataType: 'json',\r\n      success: (res) => {\r\n        const options = JSON.parse(res.data);\r\n        this.setState({ options });\r\n      }\r\n    });\r\n  }\r\n  handleSearch = (e) => {\r\n    if (e.which === 13) {\r\n      const { source } = this.props;\r\n      const value = e.target.value;\r\n\r\n      const data = {\r\n        name: value\r\n      };\r\n      \r\n      if (value.length > 0) {\r\n\r\n        $.ajax({\r\n          type: 'post',\r\n          url: `http://localhost/vinesdb/${source}.php`,\r\n          data: { action: \"save\", data },\r\n          dataType: 'json',\r\n          success: (res) => {\r\n            if (res.status) {\r\n              this.loadOptions();\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  handleChange = (value) => {\r\n    this.props.onChange(value);\r\n  }\r\n  render() {\r\n    return (\r\n      <Select\r\n        value={this.props.value}\r\n        showSearch\r\n        showArrow={false}\r\n        onChange={this.handleChange}\r\n        onInputKeyDown={this.handleSearch}\r\n        optionFilterProp=\"children\"\r\n        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\r\n        style={{ width: '100%' }}>\r\n        {\r\n          this.state.options.map((option, i) => (\r\n            <Select.Option key={i} value={option.id + \"\"}>{ option.name }</Select.Option>\r\n          ))\r\n        }\r\n      </Select>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SelectDropdown;","import React, { Component } from 'react';\r\nimport { Form, Input, Select, Upload, Icon, message } from 'antd';\r\nimport CloseIcon from '@material-ui/icons/CancelRounded';\r\nimport VineTabs from './vine-tabs';\r\nimport SelectDropdown from './select-dropdown';\r\n\r\nfunction beforeUpload(file) {\r\n  const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\r\n  if (!isJPG) {\r\n    message.error('You can only upload JPG/PNG file!');\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 10;\r\n  if (!isLt2M) {\r\n    message.error('Image must smaller than 10MB!');\r\n  }\r\n  return isJPG && isLt2M;\r\n}\r\n\r\nclass VineForm extends Component {\r\n  componentDidMount() {\r\n    this.props.passFormRef(this.props.form);\r\n  }\r\n  normFile = (e) => {\r\n    if (Array.isArray(e))\r\n      return e;\r\n    return e && e.fileList;\r\n  }\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    return (\r\n      <div>\r\n        <div className=\"form-item\">\r\n          <label htmlFor=\"vine_name\">Name of species</label>\r\n          <Form.Item>\r\n            {\r\n              getFieldDecorator('vine_name', {\r\n                rules: [\r\n                  { required: true }\r\n                ]\r\n              })(\r\n                <Input autoFocus />\r\n              )\r\n            }\r\n          </Form.Item>\r\n        </div>\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gridColumnGap: 10 }}>\r\n          <div className=\"form-item\">\r\n            <label htmlFor=\"vine_genus\">Genus</label>\r\n            <Form.Item>\r\n              {\r\n                getFieldDecorator('vine_genus', {\r\n                  rules: [\r\n                    { required: true }\r\n                  ]\r\n                })(\r\n                  <SelectDropdown source={\"genus\"} />\r\n                )\r\n              }\r\n            </Form.Item>\r\n          </div>\r\n          <div className=\"form-item\">\r\n            <label htmlFor=\"vine_family\">Family</label>\r\n            <Form.Item>\r\n              {\r\n                getFieldDecorator('vine_family', {\r\n                  rules: [\r\n                    { required: true }\r\n                  ]\r\n                })(\r\n                  <SelectDropdown source={\"families\"} />\r\n                )\r\n              }\r\n            </Form.Item>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-item\">\r\n          <label htmlFor=\"vine_author\">Author</label>\r\n          <Form.Item>\r\n            {\r\n              getFieldDecorator('vine_author', {\r\n                rules: [\r\n                  { required: true }\r\n                ]\r\n              })(\r\n                <SelectDropdown source={\"authors\"} />\r\n              )\r\n            }\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"form-item\">\r\n          <label htmlFor=\"vine_image\">Images</label>\r\n          <Form.Item>\r\n            { getFieldDecorator('vine_image', {\r\n              valuePropName: 'fileList',\r\n              getValueFromEvent: this.normFile\r\n            })(\r\n              <Upload\r\n                listType=\"picture-card\"\r\n                showUploadList={{ showPreviewIcon: false }}\r\n                action=\"http://localhost/vinesdb/upload.php\"\r\n                beforeUpload={beforeUpload}\r\n              >\r\n                <Icon type=\"plus\" style={{ fontSize: 32 }} />\r\n              </Upload>\r\n            ) }\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"form-item\">\r\n          <label htmlFor=\"vine_refs\">References</label>\r\n          <Form.Item>\r\n            {\r\n              getFieldDecorator('vine_refs')(\r\n                <Select\r\n                  mode=\"tags\"\r\n                  style={{ width: '100%' }}\r\n                  open={false}\r\n                  tokenSeparators={[';']}\r\n                  removeIcon={<CloseIcon fontSize=\"small\" />}\r\n                ></Select>\r\n              )\r\n            }\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"form-item\">\r\n          <label htmlFor=\"vine_syn\">Synonyms</label>\r\n          <Form.Item>\r\n            {\r\n              getFieldDecorator('vine_syn')(\r\n                <Select\r\n                  mode=\"tags\"\r\n                  style={{ width: '100%' }}\r\n                  open={false}\r\n                  tokenSeparators={[';']}\r\n                  removeIcon={<CloseIcon fontSize=\"small\" />}\r\n                ></Select>\r\n              )\r\n            }\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"form-item\">\r\n          <label htmlFor=\"vine_local\">Local names</label>\r\n          <Form.Item>\r\n            {\r\n              getFieldDecorator('vine_local')(\r\n                <Select\r\n                  mode=\"tags\"\r\n                  style={{ width: '100%' }}\r\n                  open={false}\r\n                  tokenSeparators={[';']}\r\n                  removeIcon={<CloseIcon fontSize=\"small\" />}\r\n                ></Select>\r\n              )\r\n            }\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"form-item\">\r\n          <label htmlFor=\"vine_content\">Content</label>\r\n          <Form.Item>\r\n            {\r\n              getFieldDecorator('vine_content')(\r\n                <VineTabs />\r\n              )\r\n            }\r\n          </Form.Item>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form.create()(VineForm);","import React, { Component } from 'react';\r\nimport { Modal, message } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport VineForm from './vine-form';\r\nimport $ from 'jquery';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { loadVines } from '../../../../redux/reducers/vines';\r\n\r\nclass VineDialog extends Component {\r\n  form = null;\r\n  state = {\r\n    visible: false\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.visible !== this.props.visible) {\r\n      this.setState({ visible: nextProps.visible }, () => {\r\n        if (nextProps.visible) {\r\n          const { location } = nextProps;\r\n          const isNewVine = location.pathname.indexOf(\"new\") !== -1;\r\n\r\n          const id = nextProps.match.params.id;\r\n          if (!isNewVine) {\r\n            $.ajax({\r\n              type: 'post',\r\n              url: 'http://localhost/vinesdb/vines.php',\r\n              data: { action: \"select\", id },\r\n              dataType: 'json',\r\n              success: (res) => {\r\n                const data = JSON.parse(res.data);\r\n                const species = JSON.parse(data.species_data);\r\n                if (this.form) {\r\n                  this.form.setFieldsValue({ ...species });\r\n                }\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n  handleClose = () => {\r\n    this.props.history.goBack();\r\n  }\r\n  formRef = (form) => {\r\n    this.form = form;\r\n  }\r\n  handleSubmit = () => {\r\n    if (!!this.form) {\r\n      this.form.validateFieldsAndScroll((err, values) => {\r\n        if (!err) {\r\n          const data = {\r\n            species_data: JSON.stringify(values),\r\n            species: values.vine_name,\r\n            genus_id: values.vine_genus,\r\n            family_id: values.vine_family,\r\n            author_id: values.author\r\n          };\r\n          \r\n          const { location } = this.props;\r\n          const isNewVine = location.pathname.indexOf(\"new\") !== -1;\r\n\r\n          let payload = { action: \"save\", data };\r\n          \r\n          if (!isNewVine) {\r\n            const id = this.props.match.params.id;\r\n            payload = { action: \"update\", id, data };\r\n          }\r\n\r\n          $.ajax({\r\n            type: 'post',\r\n            url: `http://localhost/vinesdb/vines.php`,\r\n            data: payload,\r\n            dataType: 'json',\r\n            success: (res) => {\r\n              if (res.status) {\r\n                if (isNewVine) {\r\n                  message.success(\"Vine successfully saved.\");\r\n                } else {\r\n                  message.success(\"Vine successfully updated.\");\r\n                }\r\n                this.props.loadVines();\r\n                this.handleClose();\r\n              }\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const { visible } = this.state;\r\n    const { location } = this.props;\r\n    \r\n    const isNewVine = location.pathname.indexOf(\"new\") !== -1;\r\n    return (\r\n      <Modal\r\n        destroyOnClose\r\n        visible={visible}\r\n        onCancel={this.handleClose}\r\n        onOk={this.handleSubmit}\r\n        okButtonProps={{ shape: 'round' }}\r\n        cancelButtonProps={{ shape: 'round' }}\r\n        title={ isNewVine ? \"Add New Vine\" : \"Edit Vine\" }\r\n        className=\"long-modal\"\r\n        style={{ top: 10 }}\r\n        width={600}\r\n      >\r\n        <VineForm passFormRef={this.formRef} />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => (\r\n  bindActionCreators({ loadVines }, dispatch)\r\n);\r\n\r\nexport default connect(null, mapDispatchToProps)(withRouter(VineDialog));","import React, { Component } from 'react';\r\nimport SearchTool from './components/SearchTool';\r\nimport Divider from './components/Divider';\r\nimport Results from './components/Results';\r\nimport VineDialog from './components/vines/vine-dialog';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { loadVines } from '../../redux/reducers/vines';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Button } from 'antd';\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    vineDialogOpen: false\r\n  }\r\n  \r\n  static getDerivedStateFromProps(nextProps) {\r\n    const { match, location } = nextProps;\r\n    const { params } = match;\r\n\r\n    const open = !!params.id || location.pathname.indexOf(\"new\") !== -1;\r\n\r\n    return { vineDialogOpen: open };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.loadVines();\r\n  }\r\n\r\n  render() {\r\n    const { vineDialogOpen } = this.state;\r\n    return (\r\n      <div className=\"db-container\">\r\n        <VineDialog visible={vineDialogOpen} />\r\n        <div>\r\n          <div style={{ padding: 16 }}>\r\n            <Link to={`/admin/new`}>\r\n              <Button icon=\"plus\" block shape=\"round\" type=\"primary\">New Vine</Button>\r\n            </Link>\r\n          </div>\r\n          <SearchTool />\r\n        </div>\r\n        <Divider />\r\n        <Results />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => (\r\n  bindActionCreators({ loadVines }, dispatch)\r\n);\r\n\r\nexport default connect(null, mapDispatchToProps)(Home);","import React, { Component } from 'react';\r\nimport { Card, Tabs, Table, Popover } from 'antd';\r\nimport $ from 'jquery';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { loadGlossary } from '../../redux/reducers/vines';\r\n\r\nimport _ from 'lodash';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass VineDetails extends Component {\r\n  state = {\r\n    data: null\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadGlossary();\r\n    const { id } = this.props.match.params;\r\n    $.ajax({\r\n      type: 'post',\r\n      url: 'http://localhost/vinesdb/vines.php',\r\n      data: { action: \"select\", id },\r\n      dataType: 'json',\r\n      success: (res) => {\r\n        const data = JSON.parse(res.data);\r\n        const species = JSON.parse(data.species_data);\r\n        \r\n        delete data.species_data; \r\n        this.setState({ data: { data, species } });\r\n      }\r\n    });\r\n  }\r\n  tokenize = (content) => {\r\n    const { glossary } = this.props;\r\n    const contentArray = content.split(\" \");\r\n    return contentArray.map((str, i) => {\r\n      const lower = str.toLowerCase();\r\n      const match = _.find(glossary, { term: lower });\r\n      if (match) {\r\n        return <Popover title={lower} content={match.definition}>\r\n          <span className=\"term\">{str} </span>\r\n        </Popover>\r\n      } else {\r\n        return <span key={i + \"\"}>{str} </span>\r\n      }\r\n    });\r\n  }\r\n  render() {\r\n    const { data } = this.state;\r\n    const columns = [\r\n      {\r\n        title: 'Property',\r\n        dataIndex: 'title',\r\n        key: 'title'\r\n      },\r\n      {\r\n        title: 'Description',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        render: (t) => <div>{ this.tokenize(t) }</div>\r\n      },\r\n      {\r\n        title: ' ',\r\n        dataIndex: 'image',\r\n        key: 'image',\r\n        render: (t) => <img src={`http://localhost/vinesdb/uploads/${t}`} style={{ width: 50 }} />\r\n      }\r\n    ];\r\n    return (\r\n      <div style={{ flex: 1, display: 'flex', justifyContent: 'center', backgroundColor: '#F0F3F6', overflowY: 'auto' }}>\r\n        {\r\n          data &&\r\n          <Card\r\n            hoverable\r\n            className=\"article\"\r\n          >\r\n            <div\r\n              className=\"article-header\"\r\n              style={{ backgroundImage: `url(${data.species.vine_image[0].thumbUrl})`}}>\r\n              <div className=\"content\">\r\n                <h1 style={{ marginBottom: 0, fontFamily: 'serif', fontStyle: 'italic', fontSize: 36 }}>{data.species.vine_name}</h1>\r\n                <h3>{data.data.author}</h3>\r\n              </div>\r\n            </div>\r\n            <div className=\"article-sub-data\">\r\n              <div>\r\n                <label>Family</label>\r\n                <p>{ data.data.family }</p>\r\n              </div>\r\n              <div>\r\n                <label>Genus</label>\r\n                <p>{ data.data.genus }</p>\r\n              </div>\r\n              <div>\r\n                <label>References</label>\r\n                <p>{ data.species.vine_refs.join(\"; \") }</p>\r\n              </div>\r\n              <div>\r\n                <label>Synonyms</label>\r\n                <p>{ data.species.vine_syn.join(\"; \") }</p>\r\n              </div>\r\n              <div>\r\n                <label>Local Names</label>\r\n                <p>{ data.species.vine_local.join(\"; \") }</p>\r\n              </div>\r\n            </div>\r\n            <Tabs onChange={() => {}}>\r\n              {\r\n                data.species.vine_content.map((content, i) => (\r\n                  <TabPane tab={content.title} key={i + \"\"}>\r\n                      {\r\n                        content.type === \"par\" ?\r\n                          <div style={{ padding: \"16px 10%\", display: 'grid', gridTemplateColumns: '1fr 1fr', gridGap: 16, minHeight: 250 }}>\r\n                            <div>\r\n                              <p>{ this.tokenize(content.info) }</p>\r\n                            </div>\r\n                            <div>\r\n                              <img style={{ width: '20vw' }} src={`http://localhost/vinesdb/uploads/${content.images}`} />\r\n                            </div>\r\n                          </div>:\r\n                          <div style={{ padding: \"16px 10%\", minHeight: 250 }}>\r\n                            <Table\r\n                              bordered\r\n                              size=\"small\"\r\n                              columns={columns}\r\n                              pagination={false}\r\n                              dataSource={content.info} />\r\n                          </div>\r\n                      }\r\n                  </TabPane>\r\n                ))\r\n              }\r\n            </Tabs>\r\n          </Card>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  ...state.vines\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => (\r\n  bindActionCreators({ loadGlossary }, dispatch)\r\n);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(VineDetails);","import React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Home from './Home';\n\nimport { Layout, Menu, Icon } from 'antd';\nimport VineDetails from './VineDetails';\nconst { Header, Sider, Content } = Layout;\n\nclass Admin extends Component {\n  state = {\n    collapsed: false,\n  };\n\n  toggle = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Layout>\n          <Sider\n            trigger={null}\n            collapsible\n            collapsed={this.state.collapsed}\n            style={{ background: '#fff', boxShadow: '5px 0 5px -5px rgba(0, 0, 0, 0.1)' }}\n          >\n            <div className=\"logo\" />\n            <Menu mode=\"inline\" defaultSelectedKeys={['1']}>\n              <Menu.Item key=\"1\">\n                <Icon type=\"database\" theme=\"filled\" />\n                <span>Database</span>\n              </Menu.Item>\n              <Menu.Item key=\"2\">\n                <Icon type=\"setting\" theme=\"filled\" />\n                <span>Settings</span>\n              </Menu.Item>\n              <Menu.Item key=\"3\">\n                <Icon type=\"info-circle\" theme=\"filled\" />\n                <span>About</span>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Layout>\n            <Header style={{ background: '#fff', padding: 0 }}>\n              <Icon\n                className=\"trigger\"\n                type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\n                onClick={this.toggle}\n              />\n            </Header>\n            <Content style={{\n              margin: '24px 16px', padding: 0, display: 'flex', background: '#fff', minHeight: 280,\n            }}\n            >\n              <Switch>\n                <Route exact path=\"/admin\" render={() => <Redirect to=\"/admin/vines\" />} />\n                <Route exact path=\"/admin/vines\" component={Home} />\n                <Route path=\"/admin/vines/:id\" component={VineDetails} />\n                <Route path=\"/admin/edit/:id\" component={Home} />\n                <Route path=\"/admin/new\" component={Home} />\n              </Switch>\n            </Content>\n          </Layout>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nexport default Admin;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { routerMiddleware } from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\nimport createHistory from 'history/createHashHistory';\r\nimport rootReducer from './reducers';\r\n\r\nexport const history = createHistory();\r\nconst enhancers = [];\r\nconst middleware = [thunk, routerMiddleware(history)];\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__;\r\n\r\n  if (typeof devToolsExtension === 'function') {\r\n    enhancers.push(devToolsExtension());\r\n  }\r\n}\r\n\r\nfunction saveToLocalStorage(state) {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('state', serializedState);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nfunction loadFromLocalStorage() {\r\n  try {\r\n    const serializedState = localStorage.getItem('state');\r\n    if (serializedState === null) return {};\r\n    return JSON.parse(serializedState);\r\n  } catch (e) {\r\n    console.log(e);\r\n    return {};\r\n  }\r\n}\r\n\r\nconst initialState = {}; //loadFromLocalStorage();\r\n\r\nconst composedEnhancers = compose(applyMiddleware(...middleware), ...enhancers);\r\n\r\nconst store = createStore(rootReducer(history), initialState, composedEnhancers);\r\n\r\n// store.subscribe(() => saveToLocalStorage(store.getState()));\r\n\r\nexport default store;","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport vines from './vines';\r\n\r\nexport default (history) => combineReducers({\r\n  router: connectRouter(history),\r\n  vines\r\n});","import React, { Component } from 'react';\r\nimport ResultsList from '../admin/components/Results';\r\n\r\nclass Results extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"flex row\" style={{ width: '100vw', height: '100vh' }}>\r\n        <div>\r\n          \r\n        </div>\r\n        <div className=\"flex\" style={{ flex: 1, position: 'relative' }}>\r\n          <ResultsList />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Results;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport Admin from './pages/admin';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport store, { history } from './redux/store';\r\nimport Results from './pages/search/results';\r\nimport VineDetails from './pages/admin/VineDetails';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      <HashRouter>\r\n        <Switch>\r\n          <Route path=\"/home\" component={App} />\r\n          <Route path=\"/admin\" component={Admin} />\r\n          <Route path=\"/search/:keyword\" component={Results} />\r\n          <Route path=\"/vine/:id\" component={VineDetails} />\r\n        </Switch>\r\n      </HashRouter>\r\n    </ConnectedRouter>\r\n  </Provider>\r\n  , document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}