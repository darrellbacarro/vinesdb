(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{348:function(e,t,a){e.exports=a(774)},353:function(e,t,a){},355:function(e,t,a){},774:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),i=a.n(r),c=(a(353),a(15)),o=a(16),s=a(18),u=a(17),m=a(19),p=a(776),d=a(778),h=a(439),f=(a(355),a(71),a(27)),v=(a(84),a(52)),E=(a(169),a(68)),b=a(157),y=a.n(b),g=a(40),O=a(36),j=a(78),C=a(49),N=a.n(C),w={vines:[],glossary:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"LOAD_VINES":return a.vines=t.vines,a;case"LOAD_GLOSSARY":return a.glossary=t.glossary,a;default:return a}},k=function(){return function(e){N.a.ajax({type:"post",url:"http://localhost/vinesdb/vines.php",dataType:"json",success:function(t){var a=JSON.parse(t.data);e({type:"LOAD_VINES",vines:a})}})}},x=function(e,t){return function(a){N.a.ajax({type:"post",url:"http://localhost/vinesdb/search.php",data:Object(j.a)({search:e},t),dataType:"json",success:function(e){var t=JSON.parse(e.data);a({type:"LOAD_VINES",vines:t})}})}},_=function(){return function(e){N.a.ajax({type:"post",url:"http://localhost/vinesdb/glossary.php",dataType:"json",success:function(t){var a=JSON.parse(t.data);e({type:"LOAD_GLOSSARY",glossary:a})}})}},I=E.a.Group,F=[{label:"Species",value:"species"},{label:"Family",value:"family"},{label:"Genus",value:"genus"}],A=[].concat(F,[{label:"Author",value:"author"},{label:"Date Added",value:"date_added"},{label:"Date Modified",value:"date_modified"}]),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={showTools:!1,filters:[],sort:[]},a.toggleTools=function(){a.setState(function(e){return{showTools:!e.showTools}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.searchVines,r=t.history;return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"welcome flex"},l.a.createElement("h1",null,"Philippine Commercial and ",l.a.createElement("br",null),"Potentially Commercial",l.a.createElement("br",null),"Forest Vines")),l.a.createElement("div",{className:"search flex col"},l.a.createElement(v.a.Search,{autoFocus:!0,size:"large",placeholder:"Search",onSearch:function(t){var n=e.state,l=n.filters,i=n.sort;a(t,{filters:l,sort:i}),r.push("/search/".concat(t))}}),this.state.showTools&&l.a.createElement(y.a,{in:!0},l.a.createElement("div",{className:"options",style:{padding:"16px 64px",display:"grid",gridTemplateColumns:"1fr 1fr"}},l.a.createElement("div",{className:"flex col"},l.a.createElement("label",{className:"title"},"Filter"),l.a.createElement(I,{defaultValue:["species"],onChange:function(t){return e.setState({filters:t})},className:"list",options:F})),l.a.createElement("div",{className:"flex col"},l.a.createElement("label",{className:"title"},"Sort"),l.a.createElement(I,{defaultValue:["species"],onChange:function(t){return e.setState({sort:t})},className:"list",options:A})))),l.a.createElement("div",{className:"flex row",style:{padding:8,justifyContent:"center"}},l.a.createElement(f.a,{style:{marginRight:8},type:"primary",size:"large",shape:"round"},"Search Vine"),l.a.createElement(f.a,{size:"large",shape:"round",onClick:this.toggleTools},"Options"))),l.a.createElement("div",{className:"footer"},l.a.createElement("span",null,"Forest Products Research and Development Institute \xa9 2019")))}}]),t}(n.Component),D=Object(g.c)(null,function(e){return Object(O.b)({searchVines:x},e)})(T),V=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"About")}}]),t}(n.Component),P=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"Contact")}}]),t}(n.Component),z=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"home-container"},l.a.createElement("div",{className:"header flex"},l.a.createElement("div",null),l.a.createElement("ul",{className:"navigation"},l.a.createElement("li",null,l.a.createElement(p.a,{exact:!0,to:"/home",activeClassName:"active"},l.a.createElement("span",{className:"link-wrap"},l.a.createElement("span",{className:"link-text"},"Home")))),l.a.createElement("li",null,l.a.createElement(p.a,{to:"/home/about",activeClassName:"active"},l.a.createElement("span",{className:"link-wrap"},l.a.createElement("span",{className:"link-text"},"About")))),l.a.createElement("li",null,l.a.createElement(p.a,{to:"/home/contact",activeClassName:"active"},l.a.createElement("span",{className:"link-wrap"},l.a.createElement("span",{className:"link-text"},"Contact")))))),l.a.createElement(d.a,null,l.a.createElement(h.a,{exact:!0,path:"/home",component:D}),l.a.createElement(h.a,{path:"/home/about",component:V}),l.a.createElement(h.a,{path:"/home/contact",component:P})))}}]),t}(n.Component),L=(a(442),a(82)),R=(a(113),a(8)),G=(a(449),a(108)),J=a(777),B=(a(452),a(222)),M=v.a.Search,U=E.a.Group,Y=[{label:"Species",value:"species"},{label:"Family",value:"family"},{label:"Genus",value:"genus"}],H=[].concat(Y,[{label:"Author",value:"author"},{label:"Date Added",value:"date_added"},{label:"Date Modified",value:"date_modified"}]),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={filters:[],sort:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.searchVines;return l.a.createElement("div",{className:"search-container"},l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.a.createElement("label",{className:"primary"},"Search Database"),l.a.createElement(M,{placeholder:"Search",autoFocus:!0,onSearch:function(a){t(a,e.state)}})),l.a.createElement(B.a,{orientation:"left"},l.a.createElement("label",{className:"title"},"Filter")),l.a.createElement(U,{defaultValue:["species"],onChange:function(t){return e.setState({filters:t})},className:"list",options:Y}),l.a.createElement(B.a,{orientation:"left"},l.a.createElement("label",{className:"title"},"Sort by")),l.a.createElement(U,{defaultValue:["species"],onChange:function(t){return e.setState({sort:t})},className:"list",options:H}))}}]),t}(n.Component),K=Object(g.c)(null,function(e){return Object(O.b)({searchVines:x},e)})(q),W=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.orientation;return l.a.createElement("div",{className:"separator ".concat(e)})}}]),t}(n.Component);W.defaultProps={orientation:"vertical"};var $=W,Q=(a(248),a(162)),X=(a(186),a(92)),Z=a(320),ee=a.n(Z),te=a(441),ae=a(323),ne=a.n(ae),le=a(779),re=X.a.Meta,ie=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).deleteVine=function(e){var t=a.props.loadVines;N.a.ajax({type:"post",url:"http://localhost/vinesdb/vines.php",data:{action:"delete",id:e},dataType:"json",success:function(e){e.status&&t()}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.timeout,n=t.data,r=t.location,i=JSON.parse(n.species_data),c=-1!==r.pathname.indexOf("admin"),o="This is a description placeholder.";return i.vine_content.forEach(function(e){if("par"===e.type)return o=e.info||"",!1}),l.a.createElement(ne.a,{in:!0,timeout:a},l.a.createElement(X.a,{size:"small",cover:l.a.createElement("img",{alt:"",src:"".concat(i.vine_image[0].thumbUrl)}),actions:c?[l.a.createElement(te.a,{to:"/admin/edit/".concat(n.id)},l.a.createElement(R.a,{type:"edit",theme:"filled"})),l.a.createElement(Q.a,{title:"Delete this vine?",placement:"right",onConfirm:function(){return e.deleteVine(n.id)},okText:"Yes",cancelText:"No"},l.a.createElement(R.a,{type:"delete",theme:"filled"}))]:[],hoverable:!0},l.a.createElement(re,{title:l.a.createElement(te.a,{className:"species_name",to:c?"/admin/vines/".concat(n.id):"/vine/".concat(n.id)},i.vine_name),description:l.a.createElement(ee.a,{text:o,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})})))}}]),t}(n.Component);ie.defaultProps={timeout:100};var ce=Object(g.c)(null,function(e){return Object(O.b)({loadVines:k},e)})(Object(le.a)(ie)),oe=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.vines;return l.a.createElement("div",{className:"results-container"},l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"grid"},e.map(function(e,t){return l.a.createElement(ce,{data:e,key:t,timeout:100*(t+1)})}))))}}]),t}(n.Component),se=Object(g.c)(function(e){return Object(j.a)({},e.vines)})(oe),ue=(a(476),a(341)),me=(a(140),a(56)),pe=(a(141),a(46)),de=(a(217),a(105)),he=(a(775),a(62)),fe=a(168),ve=a.n(fe),Ee=a(342),be=(a(493),a(340)),ye=(a(316),a(166));function ge(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||me.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<10;return a||me.a.error("Image must smaller than 10MB!"),t&&a}var Oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={data:[]},a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.handleImageChange=function(e,t){"uploading"!==e.file.status&&"done"===e.file.status&&a.handleChange(t,"image",e.file.name)},a.addRow=function(){var e=a.state.data;e.push({id:e.length,title:"",description:""}),a.setState({data:e})},a.removeRow=function(e){var t=a.state.data;t.splice(e,1),a.setState({data:t})},a.handleChange=function(e,t,n){var l=a.state.data;l[e][t]=n,a.setState({data:l},function(){return a.props.onChange(l)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.data,a=[{title:"#",key:"no",render:function(e,t,a){return l.a.createElement("span",null,a+1)}},{title:"Title",key:"title",dataIndex:"title",render:function(t,a,n){return l.a.createElement(v.a,{value:t,onChange:function(t){var a=t.target;return e.handleChange(n,"title",a.value)}})}},{title:"Description",key:"description",dataIndex:"description",render:function(t,a,n){return l.a.createElement(v.a,{value:t,onChange:function(t){var a=t.target;return e.handleChange(n,"description",a.value)}})}},{title:"Image",key:"image",dataIndex:"image",render:function(t,a,n){return l.a.createElement(de.a,{action:"http://localhost/vinesdb/upload.php",beforeUpload:ge,showUploadList:!1,onChange:function(t){return e.handleImageChange(t,n)}},Boolean(t)?l.a.createElement("img",{src:"http://localhost/vinesdb/uploads/".concat(t),style:{width:24,height:24,borderRadius:2}}):l.a.createElement(f.a,{icon:"upload"}))}},{title:" ",key:"delete",render:function(t,a,n){return l.a.createElement(R.a,{type:"delete",onClick:function(){return e.removeRow(n)}})}}];return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement(f.a,{onClick:this.addRow,icon:"plus",shape:"circle",style:{position:"absolute",right:8,top:4,zIndex:9999}}),l.a.createElement(ye.a,{pagination:!1,rowKey:"id",columns:a,dataSource:t,size:"small"}))}}],[{key:"getDerivedStateFromProps",value:function(e){return e.value?{data:e.value}:null}}]),t}(n.Component),je=(be.a.toString,pe.a.Option);function Ce(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||me.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<10;return a||me.a.error("Image must smaller than 10MB!"),t&&a}var Ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={tabs:[]},a.addTab=function(){var e=a.state.tabs;e.push({title:"",type:"par",info:null,images:"",maps:[]}),a.setState({tabs:e},function(){document.getElementById("card".concat(e.length-1)).scrollIntoView()})},a.normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a.handleImageChange=function(e,t){"uploading"!==e.file.status&&"done"===e.file.status&&a.handleChange(t,"images",e.file.name)},a.removeTab=function(e){var t=a.state.tabs;t.splice(e,1),a.setState({tabs:t})},a.handleChange=function(e,t,n){var l=a.state.tabs;l[e][t]=n,a.setState({tabs:l},function(){return a.props.onChange(l)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.tabs,a=function(t,a){return[l.a.createElement(de.a,{action:"http://localhost/vinesdb/upload.php",beforeUpload:Ce,showUploadList:!1,onChange:function(a){return e.handleImageChange(a,t)}},Boolean(a.images)?l.a.createElement("img",{src:"http://localhost/vinesdb/uploads/".concat(a.images),style:{width:24,height:24,borderRadius:2}}):l.a.createElement("span",null,l.a.createElement(R.a,{type:"upload"})," Upload Image"))]};return l.a.createElement(n.Fragment,null,l.a.createElement(f.a,{onClick:this.addTab,shape:"round",size:"small"},"Add"),t.map(function(n,r){return l.a.createElement(y.a,{in:!0,key:r+""},l.a.createElement(X.a,{actions:t.length>1?[].concat(Object(Ee.a)(a(r,n)),[l.a.createElement(Q.a,{title:"Remove this section?",onConfirm:function(){return e.removeTab(r)}},l.a.createElement("span",null,l.a.createElement(R.a,{type:"delete"})," Remove Section"))]):a(r,n),hoverable:!0,className:"tab-group",size:"small",style:{marginBottom:6}},l.a.createElement("div",{id:"card".concat(r)},l.a.createElement(v.a.Group,{compact:!0,style:{marginBottom:6}},l.a.createElement(v.a,{value:n.title,onChange:function(t){var a=t.target;return e.handleChange(r,"title",a.value)},style:{width:"70%"},placeholder:"Section Title"}),l.a.createElement(pe.a,{value:n.type,onChange:function(t){e.handleChange(r,"type",t),"par"===t?e.handleChange(r,"info",""):e.handleChange(r,"info",[])},style:{width:"30%"},placeholder:"Section Type"},l.a.createElement(je,{value:"par"},"Paragraph"),l.a.createElement(je,{value:"tab"},"Tabular"))),"par"===n.type?l.a.createElement(v.a.TextArea,{value:n.info,placeholder:"Description",onChange:function(t){var a=t.target;return e.handleChange(r,"info",a.value)},rows:4}):l.a.createElement(Oe,{value:n.info,onChange:function(t){return e.handleChange(r,"info",t)}}))))}))}}],[{key:"getDerivedStateFromProps",value:function(e){return e.value?{tabs:e.value}:null}}]),t}(n.Component),we=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={options:[]},a.loadOptions=function(){var e=a.props.source;N.a.ajax({type:"post",url:"http://localhost/vinesdb/".concat(e,".php"),dataType:"json",success:function(e){var t=JSON.parse(e.data);a.setState({options:t})}})},a.handleSearch=function(e){if(13===e.which){var t=a.props.source,n=e.target.value,l={name:n};n.length>0&&N.a.ajax({type:"post",url:"http://localhost/vinesdb/".concat(t,".php"),data:{action:"save",data:l},dataType:"json",success:function(e){e.status&&a.loadOptions()}})}},a.handleChange=function(e){a.props.onChange(e)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.loadOptions()}},{key:"render",value:function(){return l.a.createElement(pe.a,{value:this.props.value,showSearch:!0,showArrow:!1,onChange:this.handleChange,onInputKeyDown:this.handleSearch,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"}},this.state.options.map(function(e,t){return l.a.createElement(pe.a.Option,{key:t,value:e.id+""},e.name)}))}}]),t}(n.Component);function Se(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||me.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<10;return a||me.a.error("Image must smaller than 10MB!"),t&&a}var ke=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).normFile=function(e){return Array.isArray(e)?e:e&&e.fileList},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.passFormRef(this.props.form)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return l.a.createElement("div",null,l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_name"},"Name of species"),l.a.createElement(he.a.Item,null,e("vine_name",{rules:[{required:!0}]})(l.a.createElement(v.a,{autoFocus:!0})))),l.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridColumnGap:10}},l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_genus"},"Genus"),l.a.createElement(he.a.Item,null,e("vine_genus",{rules:[{required:!0}]})(l.a.createElement(we,{source:"genus"})))),l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_family"},"Family"),l.a.createElement(he.a.Item,null,e("vine_family",{rules:[{required:!0}]})(l.a.createElement(we,{source:"families"}))))),l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_author"},"Author"),l.a.createElement(he.a.Item,null,e("vine_author",{rules:[{required:!0}]})(l.a.createElement(we,{source:"authors"})))),l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_image"},"Images"),l.a.createElement(he.a.Item,null,e("vine_image",{valuePropName:"fileList",getValueFromEvent:this.normFile})(l.a.createElement(de.a,{listType:"picture-card",showUploadList:{showPreviewIcon:!1},action:"http://localhost/vinesdb/upload.php",beforeUpload:Se},l.a.createElement(R.a,{type:"plus",style:{fontSize:32}}))))),l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_refs"},"References"),l.a.createElement(he.a.Item,null,e("vine_refs")(l.a.createElement(pe.a,{mode:"tags",style:{width:"100%"},open:!1,tokenSeparators:[";"],removeIcon:l.a.createElement(ve.a,{fontSize:"small"})})))),l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_syn"},"Synonyms"),l.a.createElement(he.a.Item,null,e("vine_syn")(l.a.createElement(pe.a,{mode:"tags",style:{width:"100%"},open:!1,tokenSeparators:[";"],removeIcon:l.a.createElement(ve.a,{fontSize:"small"})})))),l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_local"},"Local names"),l.a.createElement(he.a.Item,null,e("vine_local")(l.a.createElement(pe.a,{mode:"tags",style:{width:"100%"},open:!1,tokenSeparators:[";"],removeIcon:l.a.createElement(ve.a,{fontSize:"small"})})))),l.a.createElement("div",{className:"form-item"},l.a.createElement("label",{htmlFor:"vine_content"},"Content"),l.a.createElement(he.a.Item,null,e("vine_content")(l.a.createElement(Ne,null)))))}}]),t}(n.Component),xe=he.a.create()(ke),_e=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).form=null,a.state={visible:!1},a.handleClose=function(){a.props.history.goBack()},a.formRef=function(e){a.form=e},a.handleSubmit=function(){a.form&&a.form.validateFieldsAndScroll(function(e,t){if(!e){var n={species_data:JSON.stringify(t),species:t.vine_name,genus_id:t.vine_genus,family_id:t.vine_family,author_id:t.author},l=-1!==a.props.location.pathname.indexOf("new"),r={action:"save",data:n};if(!l)r={action:"update",id:a.props.match.params.id,data:n};N.a.ajax({type:"post",url:"http://localhost/vinesdb/vines.php",data:r,dataType:"json",success:function(e){e.status&&(l?me.a.success("Vine successfully saved."):me.a.success("Vine successfully updated."),a.props.loadVines(),a.handleClose())}})}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.visible!==this.props.visible&&this.setState({visible:e.visible},function(){if(e.visible){var a=-1!==e.location.pathname.indexOf("new"),n=e.match.params.id;a||N.a.ajax({type:"post",url:"http://localhost/vinesdb/vines.php",data:{action:"select",id:n},dataType:"json",success:function(e){var a=JSON.parse(e.data),n=JSON.parse(a.species_data);t.form&&t.form.setFieldsValue(Object(j.a)({},n))}})}})}},{key:"render",value:function(){var e=this.state.visible,t=-1!==this.props.location.pathname.indexOf("new");return l.a.createElement(ue.a,{destroyOnClose:!0,visible:e,onCancel:this.handleClose,onOk:this.handleSubmit,okButtonProps:{shape:"round"},cancelButtonProps:{shape:"round"},title:t?"Add New Vine":"Edit Vine",className:"long-modal",style:{top:10},width:600},l.a.createElement(xe,{passFormRef:this.formRef}))}}]),t}(n.Component),Ie=Object(g.c)(null,function(e){return Object(O.b)({loadVines:k},e)})(Object(le.a)(_e)),Fe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={vineDialogOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.loadVines()}},{key:"render",value:function(){var e=this.state.vineDialogOpen;return l.a.createElement("div",{className:"db-container"},l.a.createElement(Ie,{visible:e}),l.a.createElement("div",null,l.a.createElement("div",{style:{padding:16}},l.a.createElement(te.a,{to:"/admin/new"},l.a.createElement(f.a,{icon:"plus",block:!0,shape:"round",type:"primary"},"New Vine"))),l.a.createElement(K,null)),l.a.createElement($,null),l.a.createElement(se,null))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.match,a=e.location;return{vineDialogOpen:!!t.params.id||-1!==a.pathname.indexOf("new")}}}]),t}(n.Component),Ae=Object(g.c)(null,function(e){return Object(O.b)({loadVines:k},e)})(Fe),Te=(a(249),a(337)),De=(a(250),a(107)),Ve=a(336),Pe=a.n(Ve),ze=De.a.TabPane,Le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:null},a.tokenize=function(e){var t=a.props.glossary;return e.split(" ").map(function(e,a){var n=e.toLowerCase(),r=Pe.a.find(t,{term:n});return r?l.a.createElement(Te.a,{title:n,content:r.definition},l.a.createElement("span",{className:"term"},e," ")):l.a.createElement("span",{key:a+""},e," ")})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.loadGlossary();var t=this.props.match.params.id;N.a.ajax({type:"post",url:"http://localhost/vinesdb/vines.php",data:{action:"select",id:t},dataType:"json",success:function(t){var a=JSON.parse(t.data),n=JSON.parse(a.species_data);delete a.species_data,e.setState({data:{data:a,species:n}})}})}},{key:"render",value:function(){var e=this,t=this.state.data,a=[{title:"Property",dataIndex:"title",key:"title"},{title:"Description",dataIndex:"description",key:"description",render:function(t){return l.a.createElement("div",null,e.tokenize(t))}},{title:" ",dataIndex:"image",key:"image",render:function(e){return l.a.createElement("img",{src:"http://localhost/vinesdb/uploads/".concat(e),style:{width:50}})}}];return l.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"center",backgroundColor:"#F0F3F6",overflowY:"auto"}},t&&l.a.createElement(X.a,{hoverable:!0,className:"article"},l.a.createElement("div",{className:"article-header",style:{backgroundImage:"url(".concat(t.species.vine_image[0].thumbUrl,")")}},l.a.createElement("div",{className:"content"},l.a.createElement("h1",{style:{marginBottom:0,fontFamily:"serif",fontStyle:"italic",fontSize:36}},t.species.vine_name),l.a.createElement("h3",null,t.data.author))),l.a.createElement("div",{className:"article-sub-data"},l.a.createElement("div",null,l.a.createElement("label",null,"Family"),l.a.createElement("p",null,t.data.family)),l.a.createElement("div",null,l.a.createElement("label",null,"Genus"),l.a.createElement("p",null,t.data.genus)),l.a.createElement("div",null,l.a.createElement("label",null,"References"),l.a.createElement("p",null,t.species.vine_refs.join("; "))),l.a.createElement("div",null,l.a.createElement("label",null,"Synonyms"),l.a.createElement("p",null,t.species.vine_syn.join("; "))),l.a.createElement("div",null,l.a.createElement("label",null,"Local Names"),l.a.createElement("p",null,t.species.vine_local.join("; ")))),l.a.createElement(De.a,{onChange:function(){}},t.species.vine_content.map(function(t,n){return l.a.createElement(ze,{tab:t.title,key:n+""},"par"===t.type?l.a.createElement("div",{style:{padding:"16px 10%",display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:16,minHeight:250}},l.a.createElement("div",null,l.a.createElement("p",null,e.tokenize(t.info))),l.a.createElement("div",null,l.a.createElement("img",{style:{width:"20vw"},src:"http://localhost/vinesdb/uploads/".concat(t.images)}))):l.a.createElement("div",{style:{padding:"16px 10%",minHeight:250}},l.a.createElement(ye.a,{bordered:!0,size:"small",columns:a,pagination:!1,dataSource:t.info})))}))))}}]),t}(n.Component),Re=Object(g.c)(function(e){return Object(j.a)({},e.vines)},function(e){return Object(O.b)({loadGlossary:_},e)})(Le),Ge=G.a.Header,Je=G.a.Sider,Be=G.a.Content,Me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(G.a,null,l.a.createElement(Je,{trigger:null,collapsible:!0,collapsed:this.state.collapsed,style:{background:"#fff",boxShadow:"5px 0 5px -5px rgba(0, 0, 0, 0.1)"}},l.a.createElement("div",{className:"logo"}),l.a.createElement(L.a,{mode:"inline",defaultSelectedKeys:["1"]},l.a.createElement(L.a.Item,{key:"1"},l.a.createElement(R.a,{type:"database",theme:"filled"}),l.a.createElement("span",null,"Database")),l.a.createElement(L.a.Item,{key:"2"},l.a.createElement(R.a,{type:"setting",theme:"filled"}),l.a.createElement("span",null,"Settings")),l.a.createElement(L.a.Item,{key:"3"},l.a.createElement(R.a,{type:"info-circle",theme:"filled"}),l.a.createElement("span",null,"About")))),l.a.createElement(G.a,null,l.a.createElement(Ge,{style:{background:"#fff",padding:0}},l.a.createElement(R.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),l.a.createElement(Be,{style:{margin:"24px 16px",padding:0,display:"flex",background:"#fff",minHeight:280}},l.a.createElement(d.a,null,l.a.createElement(h.a,{exact:!0,path:"/admin",render:function(){return l.a.createElement(J.a,{to:"/admin/vines"})}}),l.a.createElement(h.a,{exact:!0,path:"/admin/vines",component:Ae}),l.a.createElement(h.a,{path:"/admin/vines/:id",component:Re}),l.a.createElement(h.a,{path:"/admin/edit/:id",component:Ae}),l.a.createElement(h.a,{path:"/admin/new",component:Ae}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ue=a(780),Ye=a(124),He=a(315),qe=a(338),Ke=a(339),We=a.n(Ke)()(),$e=[qe.a,Object(He.a)(We)];var Qe,Xe=O.d.apply(void 0,[O.a.apply(void 0,$e)].concat([])),Ze=Object(O.e)((Qe=We,Object(O.c)({router:Object(Ye.b)(Qe),vines:S})),{},Xe),et=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"flex row",style:{width:"100vw",height:"100vh"}},l.a.createElement("div",null),l.a.createElement("div",{className:"flex",style:{flex:1,position:"relative"}},l.a.createElement(se,null)))}}]),t}(n.Component);i.a.render(l.a.createElement(g.a,{store:Ze},l.a.createElement(Ye.a,{history:We},l.a.createElement(Ue.a,null,l.a.createElement(d.a,null,l.a.createElement(h.a,{path:"/home",component:z}),l.a.createElement(h.a,{path:"/admin",component:Me}),l.a.createElement(h.a,{path:"/search/:keyword",component:et}),l.a.createElement(h.a,{path:"/vine/:id",component:Re}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[348,2,1]]]);
//# sourceMappingURL=main.4c5b6f96.chunk.js.map